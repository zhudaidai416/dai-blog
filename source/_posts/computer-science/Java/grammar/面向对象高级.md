---
title: é¢å‘å¯¹è±¡é«˜çº§
date: 2024-08-14 9:57:05
category:
  - [è®¡ç®—æœºä¸ç§‘å­¦, Java, JavaåŸºç¡€åŠ å¼º]
tags: Java
cover: https://daiblog.oss-cn-chengdu.aliyuncs.com/cover/3.jpg
---

# static

å«é™æ€ï¼Œå¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•

## ä¿®é¥°æˆå‘˜å˜é‡

æˆå‘˜å˜é‡æŒ‰ç…§æœ‰æ—  static ä¿®é¥°ï¼Œåˆ†ä¸ºä¸¤ç§ï¼š

- ==ç±»å˜é‡==ï¼ˆé™æ€æˆå‘˜å˜é‡ï¼‰ï¼šæœ‰ static ä¿®é¥°ï¼Œå±äºç±»ï¼Œåœ¨è®¡ç®—æœºé‡Œåªæœ‰ä¸€ä»½ï¼Œ<font color="red">ä¼šè¢«ç±»çš„å…¨éƒ¨å¯¹è±¡å…±äº«</font>

  æ ¼å¼ï¼š`ç±»å.ç±»å˜é‡`ï¼ˆæ¨èï¼‰ã€`å¯¹è±¡å.ç±»å˜é‡`ï¼ˆä¸æ¨èï¼‰

  é€‚ç”¨åœºæ™¯ï¼šæ•°æ®åªéœ€è¦ä¸€ä»½ï¼Œä¸”éœ€è¦è¢«å…±äº«æ—¶ï¼ˆè®¿é—®ï¼Œä¿®æ”¹ï¼‰

- ==å®ä¾‹å˜é‡==ï¼ˆå¯¹è±¡å˜é‡ï¼‰ï¼šæ—  static ä¿®é¥°ï¼Œ<font color="red">å±äºæ¯ä¸ªå¯¹è±¡çš„</font>

  æ ¼å¼ï¼š`å¯¹è±¡å.å®ä¾‹å˜é‡`

  é€‚ç”¨åœºæ™¯ï¼šæ¯ä¸ªå¯¹è±¡éƒ½è¦æœ‰ä¸€ä»½ï¼Œæ•°æ®å„ä¸åŒï¼ˆå¦‚ï¼šnameã€scoreã€ageï¼‰

**æˆå‘˜å˜é‡çš„æ‰§è¡ŒåŸç†ï¼š**

![1663978808670](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1663978808670.png)

+++success åº”ç”¨åœºæ™¯

åœ¨å¼€å‘ä¸­ï¼Œå¦‚æœæŸä¸ªæ•°æ®åªéœ€è¦ä¸€ä»½ï¼Œä¸”å¸Œæœ›èƒ½å¤Ÿè¢«å…±äº«ï¼ˆè®¿é—®ã€ä¿®æ”¹ï¼‰ï¼Œåˆ™è¯¥æ•°æ®å¯ä»¥å®šä¹‰æˆç±»å˜é‡æ¥è®°ä½

```java
// ğŸŒ°ï¼šè¦æ±‚ç”¨æˆ·ç±»è®°ä½åˆ›å»ºäº†å‡ ä¸ªç”¨æˆ·å¯¹è±¡
public class User {
  public static int number;
  public User() {
    // å†™æ³•1ï¼š
    User.number++;

    // å†™æ³•2ï¼šè®¿é—®è‡ªå·±ç±»ä¸­çš„ç±»å˜é‡ï¼Œæ‰å¯ä»¥çœç•¥ç±»å
    number++;
  }
}
```

+++

## ä¿®é¥°æˆå‘˜æ–¹æ³•

- ==ç±»æ–¹æ³•==ï¼ˆé™æ€æ–¹æ³•ï¼‰ï¼šæœ‰ static ä¿®é¥°çš„æˆå‘˜æ–¹æ³•ï¼Œå±äºç±»

  æ ¼å¼ï¼š`ç±»å.ç±»æ–¹æ³•`ï¼ˆæ¨èï¼‰ã€`å¯¹è±¡å.ç±»æ–¹æ³•`ï¼ˆä¸æ¨èï¼‰

- ==å®ä¾‹æ–¹æ³•==ï¼ˆå¯¹è±¡çš„æ–¹æ³•ï¼‰ï¼šæ—  static ä¿®é¥°çš„æˆå‘˜æ–¹æ³•ï¼Œå±äºå¯¹è±¡

  æ ¼å¼ï¼š`å¯¹è±¡å.å®ä¾‹æ–¹æ³•`

**æˆå‘˜æ–¹æ³•çš„æ‰§è¡ŒåŸç†ï¼š**

![1664005554987](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1664005554987.png)

> ğŸ”– è¡¥å……ï¼šmain æ–¹æ³•æ˜¯ä¸€ä¸ªç±»æ–¹æ³•

+++success åº”ç”¨åœºæ™¯

å¯ä»¥ç”¨æ¥è®¾è®¡å·¥å…·ç±»

- å·¥å…·ç±»ï¼šå·¥å…·ç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ç±»æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ç”¨æ¥å®Œæˆä¸€ä¸ªåŠŸèƒ½çš„ï¼Œå·¥å…·ç±»æ˜¯ç»™å¼€å‘äººå‘˜å…±åŒä½¿ç”¨çš„

- å¥½å¤„ï¼šæé«˜äº†ä»£ç å¤ç”¨ï¼›æ–¹ä¾¿è°ƒç”¨ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡

  ä¸ç”¨å®ä¾‹æ–¹æ³•çš„åŸå› ï¼šå®ä¾‹æ–¹æ³•éœ€è¦åˆ›å»ºå¯¹è±¡æ¥è°ƒç”¨ï¼Œä¼šæµªè´¹å†…å­˜

```java
// ğŸ”– å¤šå­¦ä¸€æ‹›ï¼šå·¥å…·ç±»ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œå»ºè®®å°†å·¥å…·ç±»çš„æ„é€ å™¨ç§æœ‰åŒ–
public class MyUtil {
 private MyUtil() {

 }
}

MyUtil t = new MyUtil(); // æ— æ³•åˆ›å»ºå¯¹è±¡
```

+++

## æ³¨æ„äº‹é¡¹

- ç±»æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è®¿é—®ç±»æˆå‘˜ï¼Œä¸å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹æˆå‘˜
- å®ä¾‹æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è®¿é—®ç±»æˆå‘˜ã€å®ä¾‹æˆå‘˜
- å®ä¾‹æ–¹æ³•ä¸­å¯ä»¥å‡ºç° `this` å…³é”®å­—ï¼Œç±»æ–¹æ³•ä¸­ä¸å¯ä»¥å‡ºç° `this` å…³é”®å­—çš„

## static åº”ç”¨ï¼ˆä»£ç å—ï¼‰

ä»£ç å—æ˜¯ç±»çš„ 5 å¤§æˆåˆ†ä¹‹ä¸€ï¼ˆæˆå‘˜å˜é‡ã€æ„é€ å™¨ã€æ–¹æ³•ã€ä»£ç å—ã€å†…éƒ¨ç±»ï¼‰

- é™æ€ä»£ç å—

  - æ ¼å¼ï¼š`static {}`

  - ç‰¹ç‚¹ï¼šç±»åŠ è½½æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œç”±äºç±»åªä¼šåŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥é™æ€ä»£ç å—ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡
  - ä½œç”¨ï¼šå®Œæˆç±»çš„åˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼šå¯¹ç±»å˜é‡çš„åˆå§‹åŒ–èµ‹å€¼

- å®ä¾‹ä»£ç å—

  - æ ¼å¼ï¼š`{}`

  - ç‰¹ç‚¹ï¼šæ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæ‰§è¡Œå®ä¾‹ä»£ç å—ï¼Œå¹¶åœ¨æ„é€ å™¨å‰æ‰§è¡Œ
  - ä½œç”¨ï¼šå’Œæ„é€ å™¨ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨æ¥å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–çš„ï¼Œä¾‹å¦‚ï¼šå¯¹å®ä¾‹å˜é‡è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼

+++success æ¡ˆä¾‹

;;;id1 é™æ€ä»£ç å—

```java
public class Student {
  static int number = 80;
  static String schoolName = "å‘†å‘†";
  // é™æ€ä»£ç å—
  static {
    System.out.println("é™æ€ä»£ç å—æ‰§è¡Œäº†~~");
    schoolName = "å‘†å‘†";
  }
}

//------------------------------------------------

public class Test {
  public static void main(String[] args) {
    System.out.println(Student.number);
    System.out.println(Student.number);
    System.out.println(Student.schoolName);
  }
}

è¿è¡Œç»“æœï¼š
  é™æ€ä»£ç å—æ‰§è¡Œäº†~~
  80
  80
  å‘†å‘†
```

;;;

;;;id1 å®ä¾‹ä»£ç å—

```java
public class Student {
 int age;
  {
    System.out.println("å®ä¾‹ä»£ç å—æ‰§è¡Œäº†~~");
    age = 18;
    System.out.println("æœ‰äººåˆ›å»ºäº†å¯¹è±¡ï¼š" + this);
  }

  public Student() {
    System.out.println("æ— å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†~~");
  }

  public Student(String name) {
    System.out.println("æœ‰å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†~~");
  }
}

//------------------------------------------------

public class Test {
  public static void main(String[] args) {
    Student s1 = new Student();
    Student s2 = new Student("å‘†å‘†");
    System.out.println(s1.age);
    System.out.println(s2.age);
  }
}

è¿è¡Œç»“æœï¼š
  å®ä¾‹ä»£ç å—æ‰§è¡Œäº†~~
  æœ‰äººåˆ›å»ºäº†å¯¹è±¡ï¼š
  æ— å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†~~
  å®ä¾‹ä»£ç å—æ‰§è¡Œäº†~~
  æœ‰äººåˆ›å»ºäº†å¯¹è±¡ï¼š
  æœ‰å‚æ•°æ„é€ å™¨æ‰§è¡Œäº†~~
  18
  18
```

;;;

+++

## static åº”ç”¨ï¼ˆå•ä¾‹è®¾è®¡æ¨¡å¼ï¼‰

è®¾è®¡æ¨¡å¼ï¼šè®¾è®¡æ¨¡å¼å°±æ˜¯å…·ä½“é—®é¢˜çš„æœ€ä¼˜è§£å†³æ–¹æ¡ˆ

å•ä¾‹è®¾è®¡æ¨¡å¼ï¼šç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå¯¹è±¡

**å†™æ³•ï¼š**

- æŠŠç±»çš„æ„é€ å™¨ç§æœ‰
- å®šä¹‰ä¸€ä¸ªç±»å˜é‡å­˜å‚¨ç±»çš„ä¸€ä¸ªå¯¹è±¡
- å®šä¹‰ä¸€ä¸ªç±»æ–¹æ³•è¿”å›å¯¹è±¡

==åº”ç”¨åœºæ™¯==ï¼šä»»åŠ¡ç®¡ç†å™¨å¯¹è±¡ã€è·å–è¿è¡Œæ—¶å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥é¿å…æµªè´¹å†…å­˜

### é¥¿æ±‰å¼å•ä¾‹

ç‰¹ç‚¹ï¼šæ‹¿å¯¹è±¡æ—¶ï¼Œå¯¹è±¡æ—©å°±åˆ›å»ºå¥½äº†

```java
public class A {
  private static A a = new A();

  private A() {

  }

  public static A getInstance() {
    return a;
  }
}

--------------------------------
A a1 = A.getInstance();
A a2 = A.getInstance();
System.out.println(a1); // com.itheima.A@4eec7777
System.out.println(a2); // com.itheima.A@4eec7777
```

### æ‡’æ±‰å¼å•ä¾‹

ç‰¹ç‚¹ï¼šæ‹¿å¯¹è±¡æ—¶ï¼Œæ‰å¼€å§‹åˆ›å»ºå¯¹è±¡

```java
public class B {
  private static B b;

  private B() {

  }

  public static B getInstance() {
    if (b == null) {
      System.out.println("ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡");
      b = new B();
    }
    return b;
  }
}

--------------------------------
B b1 = B.getInstance();
B b2 = B.getInstance();
System.out.println(b1 == b2);
// ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡
// true
```

# ç»§æ‰¿

ç”¨ `extends` å…³é”®å­—ï¼Œè®©ä¸€ä¸ªç±»å’Œå¦ä¸€ä¸ªç±»å»ºç«‹èµ·ä¸€ç§çˆ¶å­å…³ç³»

**ç‰¹ç‚¹**ï¼šå­ç±»èƒ½ç»§æ‰¿çˆ¶ç±»çš„éç§æœ‰æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ï¼‰

**å¥½å¤„**ï¼šå‡å°‘äº†é‡å¤ä»£ç çš„ç¼–å†™ï¼Œæé«˜äº†ä»£ç çš„å¤ç”¨æ€§

**ç»§æ‰¿åå¯¹è±¡çš„åˆ›å»º**ï¼šå­ç±»çš„å¯¹è±¡æ˜¯ç”±å­ç±»ã€çˆ¶ç±»å…±åŒå®Œæˆçš„

å¯¹è±¡èƒ½ç›´æ¥è®¿é—®ä»€ä¹ˆæˆå‘˜ï¼Œæ˜¯ç”±å­çˆ¶ç±»è¿™å¤šå¼ è®¾è®¡å›¾å…±åŒå†³å®šçš„ï¼Œè¿™å¤šå¼ è®¾è®¡å›¾å¯¹å¤–æš´éœ²äº†ä»€ä¹ˆæˆå‘˜ï¼Œå¯¹è±¡å°±å¯ä»¥è®¿é—®ä»€ä¹ˆæˆå‘˜

```java
public class B extends A {}

â¡ Aç±»ï¼šçˆ¶ç±»ï¼ˆåŸºç±»æˆ–è¶…ç±»ï¼‰
â¡ Bç±»ï¼šå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰
```

**ç»§æ‰¿çš„æ‰§è¡ŒåŸç†ï¼š**

![1664010590126](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1664010590126.png)

## æƒé™ä¿®é¥°ç¬¦

ç”¨æ¥é™åˆ¶ç±»ä¸­çš„æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ã€æ„é€ å™¨ã€ä»£ç å—â€¦ï¼‰èƒ½å¤Ÿè¢«è®¿é—®çš„èŒƒå›´

| ä¿®é¥°ç¬¦    | åœ¨æœ¬ç±»é‡Œ | åŒä¸€ä¸ªåŒ…ä¸‹ä¸­çš„å…¶ä»–ç±»é‡Œ | ä»»æ„åŒ…ä¸‹çš„å­ç±»é‡Œ | ä»»æ„åŒ…ä¸‹çš„ä»»æ„ç±»é‡Œ |
| --------- | -------- | ---------------------- | ---------------- | ------------------ |
| private   | ğŸ—¸        |                        |                  |                    |
| ç¼ºçœ      | ğŸ—¸        | ğŸ—¸                      |                  |                    |
| protected | ğŸ—¸        | ğŸ—¸                      | ğŸ—¸                |                    |
| public    | ğŸ—¸        | ğŸ—¸                      | ğŸ—¸                | ğŸ—¸                  |

private ï¼œ ç¼ºçœ ï¼œ protected ï¼œ public

## å•ç»§æ‰¿ã€Object

Java æ˜¯<font color="red">å•ç»§æ‰¿</font>çš„ï¼šä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç›´æ¥çˆ¶ç±»

Java ä¸­çš„ç±»<font color="red">ä¸æ”¯æŒå¤šç»§æ‰¿</font>ï¼Œä½†æ˜¯<font color="red">æ”¯æŒå¤šå±‚ç»§æ‰¿</font>

object ç±»æ˜¯ java æ‰€æœ‰ç±»çš„ç¥–å®—ç±»ã€‚æˆ‘ä»¬å†™çš„ä»»ä½•ä¸€ä¸ªç±»ï¼Œå…¶å®éƒ½æ˜¯ object çš„å­ç±»æˆ–å­å­™ç±»

## æ–¹æ³•é‡å†™

å­ç±»å¯ä»¥é‡å†™ä¸€ä¸ªæ–¹æ³•åç§°ã€å‚æ•°åˆ—è¡¨ä¸€æ ·çš„æ–¹æ³•ï¼Œå»è¦†ç›–çˆ¶ç±»çš„è¿™ä¸ªæ–¹æ³•

**æ³¨æ„äº‹é¡¹ï¼š**

- é‡å†™åï¼Œæ–¹æ³•çš„è®¿é—®ï¼ŒJava ä¼šéµå¾ªå°±è¿‘åŸåˆ™
- å»ºè®®åŠ ä¸Šï¼š`@Override` æ³¨è§£ï¼Œå¯ä»¥æ ¡éªŒé‡å†™æ˜¯å¦æ­£ç¡®ï¼ŒåŒæ—¶å¯è¯»æ€§å¥½
- å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œè®¿é—®æƒé™å¿…é¡»å¤§äºæˆ–è€…ç­‰äºçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•çš„æƒé™<font color="red">ï¼ˆ public > protected > ç¼ºçœ ï¼‰</font>
- é‡å†™çš„æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸è¢«é‡å†™æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸€æ ·ï¼Œæˆ–è€…èŒƒå›´æ›´å°
- ç§æœ‰æ–¹æ³•ã€é™æ€æ–¹æ³•ä¸èƒ½è¢«é‡å†™

==åº”ç”¨åœºæ™¯==ï¼šå½“å­ç±»è§‰å¾—çˆ¶ç±»çš„æ–¹æ³•ä¸å¥½ç”¨ï¼Œæˆ–è€…ä¸æ»¡è¶³è‡ªå·±çš„éœ€æ±‚æ—¶ï¼Œå°±å¯ä»¥ç”¨æ–¹æ³•é‡å†™

- å­ç±»é‡å†™ Object ç±»çš„ toString() æ–¹æ³•ï¼Œä»¥ä¾¿è¿”å›å¯¹è±¡çš„å†…å®¹

  +++success ğŸŒ°

  ```java
  public class Student extends Object {
    private String name;
    private int age;

    public Student() {
    }

    public Student(String name, int age) {
      this.name = name;
      this.age = age;
    }

    public String getName() {
      return name;
    }

    public void setName(String name) {
      this.name = name;
    }

    public int getAge() {
      return age;
    }

    public void setAge(int age) {
      this.age = age;
    }

    @Override
    public String toString() {
      return "Student{name=" + name + ", age=" + age + "}";
    }

    // idea ä¼šè‡ªåŠ¨ç”Ÿæˆï¼šé¼ æ ‡å³é”® â¡ ç”Ÿæˆï¼ˆGenerateï¼‰â¡ toString() â¡ æŒ‰ä½ shift å…¨é€‰ä¸­
    @Override
    public String toString() {
      return "Student{" +
              "name='" + name + '\'' +
              ", age=" + age +
              '}';
    }
  }
  ```

  ```java
  public class Test {
    public static void main(String[] args) {
      Student s = new Student("å‘†å‘†", 18);
      // System.out.println(s.toString());
      System.out.println(s); // Student{name='å‘†å‘†', age=18}
    }
  }
  ```

  +++

## å­ç±»ä¸­è®¿é—®æˆå‘˜çš„ç‰¹ç‚¹

- åœ¨å­ç±»æ–¹æ³•ä¸­è®¿é—®å…¶ä»–æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ï¼‰ï¼Œæ˜¯ä¾ç…§<font color="red">å°±è¿‘åŸåˆ™</font>çš„

  - å…ˆå­ç±»å±€éƒ¨èŒƒå›´æ‰¾

  - ç„¶åå­ç±»æˆå‘˜èŒƒå›´æ‰¾
  - ç„¶åçˆ¶ç±»æˆå‘˜èŒƒå›´æ‰¾ï¼Œå¦‚æœçˆ¶ç±»èŒƒå›´è¿˜æ²¡æœ‰æ‰¾åˆ°åˆ™æŠ¥é”™

- å¦‚æœå­çˆ¶ç±»ä¸­ï¼Œå‡ºç°äº†é‡åçš„æˆå‘˜ï¼Œä¼šä¼˜å…ˆä½¿ç”¨å­ç±»çš„

- å¯ä»¥é€šè¿‡ `super` å…³é”®å­—ï¼ŒæŒ‡å®šè®¿é—®çˆ¶ç±»çš„æˆå‘˜ï¼š`super.çˆ¶ç±»æˆå‘˜å˜é‡/çˆ¶ç±»æˆå‘˜æ–¹æ³•`

```java
public class Test {
  public static void main(String[] args) {
    B b = new B();
    b.showName();
    b.showMethod();
  }
}

public class A {
  String name = "çˆ¶ç±»æˆå‘˜å˜é‡";
  public void print1() {
    System.out.println("çˆ¶ç±»æˆå‘˜æ–¹æ³•");
  }
}

public class B extends A {
  String name = "å­ç±»æˆå‘˜å˜é‡";

  public void showName() {
    String name = "å±€éƒ¨åç§°";
    System.out.println(name); // å±€éƒ¨åç§°
    System.out.println(this.name); // å­ç±»æˆå‘˜å˜é‡
    System.out.println(super.name); // çˆ¶ç±»æˆå‘˜å˜é‡
  }

  @Override
  public void print1() {
    System.out.println("å­ç±»æˆå‘˜æ–¹æ³•");
  }

  public void showMethod() {
    print1(); // å­ç±»æˆå‘˜æ–¹æ³•
    super.print1(); // çˆ¶ç±»æˆå‘˜æ–¹æ³•
  }
}
```

## å­ç±»æ„é€ å™¨çš„ç‰¹ç‚¹

å­ç±»çš„å…¨éƒ¨æ„é€ å™¨ï¼Œéƒ½ä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œå†æ‰§è¡Œè‡ªå·±

### super(...)

å­ç±»æ„é€ å™¨å¦‚ä½•å®ç°è°ƒç”¨çˆ¶ç±»æ„é€ å™¨çš„ï¼š

- é»˜è®¤æƒ…å†µä¸‹ï¼Œå­ç±»å…¨éƒ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œä»£ç éƒ½æ˜¯ `super();` ï¼ˆå†™ä¸å†™éƒ½æœ‰ï¼‰ ï¼Œå®ƒä¼šè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ•°æ„é€ å™¨

  ![1664160225526](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1664160225526.png)

- å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ•°æ„é€ å™¨ï¼Œåˆ™æˆ‘ä»¬å¿…é¡»åœ¨å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€è¡Œæ‰‹å†™ `super(...);`ï¼ŒæŒ‡å®šå»è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ•°æ„é€ å™¨

+++success åº”ç”¨åœºæ™¯

![1664163881728](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1664163881728.png)

![å­ç±»æ„é€ å™¨çš„åº”ç”¨åœºæ™¯](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/å­ç±»æ„é€ å™¨çš„åº”ç”¨åœºæ™¯.png)

+++

### this(...)

åœ¨æ„é€ å™¨ä¸­è°ƒç”¨æœ¬ç±»çš„å…¶ä»–æ„é€ å™¨

```java
this(): è°ƒç”¨æœ¬ç±»çš„æ— å‚æ•°æ„é€ å™¨
this(å‚æ•°): è°ƒç”¨æœ¬ç±»çš„æœ‰å‚æ•°æ„é€ å™¨
```

> :warning: æ³¨ï¼š`this(â€¦) ã€super(â€¦)` éƒ½åªèƒ½æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œï¼Œå› æ­¤ï¼Œæœ‰äº† `this(â€¦)` å°±ä¸èƒ½å†™ `super(â€¦)` äº†ï¼Œåä¹‹äº¦ç„¶

+++success æ¡ˆä¾‹ ğŸŒ°

![1664170865036](https://daiblog.oss-cn-chengdu.aliyuncs.com/img/1664170865036.png)

+++

## æ€»ç»“

```java
è®¿é—®æœ¬ç±»æˆå‘˜ï¼š
  this.æˆå‘˜å˜é‡ // è®¿é—®æœ¬ç±»æˆå‘˜å˜é‡
  this.æˆå‘˜æ–¹æ³• // è°ƒç”¨æœ¬ç±»æˆå‘˜æ–¹æ³•
  this() // è°ƒç”¨æœ¬ç±»æ— å‚æ•°æ„é€ å™¨
  this(å‚æ•°) // è°ƒç”¨æœ¬ç±»æœ‰å‚æ•°æ„é€ å™¨

è®¿é—®çˆ¶ç±»æˆå‘˜ï¼š
  super.æˆå‘˜å˜é‡ //è®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡
  super.æˆå‘˜æ–¹æ³• //è°ƒç”¨çˆ¶ç±»æˆå‘˜æ–¹æ³•
  super() //è°ƒç”¨çˆ¶ç±»æ— å‚æ•°æ„é€ å™¨
  super(å‚æ•°) //è°ƒç”¨çˆ¶ç±»æœ‰å‚æ•°æ„é€ å™¨

æ³¨æ„ï¼šthis å’Œ super è®¿é—®æ„é€ æ–¹æ³•ï¼Œåªèƒ½ç”¨åˆ°æ„é€ æ–¹æ³•çš„ç¬¬ä¸€å¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™
```

# å¤šæ€

åœ¨ç»§æ‰¿/å®ç°æƒ…å†µä¸‹çš„ä¸€ç§ç°è±¡ï¼Œè¡¨ç°ä¸ºï¼šå¯¹è±¡å¤šæ€ã€è¡Œä¸ºå¤šæ€

**å‰æï¼š**

- æœ‰<font color="red">ç»§æ‰¿/å®ç°</font>å…³ç³»
- å­˜åœ¨çˆ¶ç±»å¼•ç”¨å­ç±»å¯¹è±¡
- å­˜åœ¨<font color="red">æ–¹æ³•é‡å†™</font>

> :warning: æ³¨ï¼šå¤šæ€æ˜¯å¯¹è±¡ã€è¡Œä¸ºçš„å¤šæ€ï¼ŒJava ä¸­çš„å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ä¸è°ˆå¤šæ€

```java
// å¯¹è±¡å¤šæ€
People p1 = new Student(); // ç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹
People p2 = new Teacher();

// è¡Œä¸ºå¤šæ€
p1.run();
p2.run();
```

**å¥½å¤„ï¼š**

- åœ¨å¤šæ€å½¢å¼ä¸‹ï¼Œå³è¾¹å¯¹è±¡æ˜¯è§£è€¦åˆçš„ï¼Œæ›´ä¾¿äºæ‰©å±•å’Œç»´æŠ¤

- å®šä¹‰æ–¹æ³•æ—¶ï¼Œä½¿ç”¨çˆ¶ç±»ç±»å‹çš„å½¢å‚ï¼Œå¯ä»¥æ¥æ”¶ä¸€åˆ‡å­ç±»å¯¹è±¡ï¼Œæ‰©å±•æ€§æ›´å¼ºã€æ›´ä¾¿åˆ©

  ```java
  public class Test2 {
    public static void main(String[] args) {
      Teacher t = new Teacher();
      go(t);
      Student s = new Student();
      go(s);
    }

    public static void go(People p) {
      p.run();
    }
  }
  ```

- å¤šæ€ä¸‹<font color="red">ä¸èƒ½ç›´æ¥è°ƒç”¨å­ç±»çš„ç‹¬æœ‰æ–¹æ³•</font>ï¼Œéœ€è¦ç±»å‹è½¬æ¢

## ç±»å‹è½¬æ¢

- è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼š`çˆ¶ç±» å˜é‡å = new å­ç±»();`

  ```java
  People p = new Teacher();
  ```

- å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š`å­ç±» å˜é‡å = (å­ç±») çˆ¶ç±»å˜é‡`

  ```java
  Teacher t = (Teacher) p;
  ```

> :warning: æ³¨ï¼š
>
> - å­˜åœ¨ç»§æ‰¿/å®ç°æ—¶ï¼Œå°±å¯ä»¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç¼–è¯‘é˜¶æ®µä¸ä¼šæŠ¥é”™
>
> - è¿è¡Œæ—¶ï¼Œå¦‚æœå‘ç°å¯¹è±¡çš„çœŸå®ç±»å‹ä¸<font color="red">å¼ºè½¬åçš„ç±»å‹ä¸åŒ</font>ä¼šæŠ¥é”™ï¼ˆClassCastExceptionï¼‰
>
>   ```java
>   People p = new Teacher();
>   Student s = (Student) p; // java.lang.ClassCastException
>   ```

ä½¿ç”¨ `instanceof` å…³é”®å­—ï¼Œåˆ¤æ–­å½“å‰å¯¹è±¡çš„çœŸå®ç±»å‹ï¼Œå†è¿›è¡Œå¼ºè½¬

```java
æ ¼å¼ï¼šå¯¹è±¡ instanceof ç±»å‹
p instanceof Student
```

# final

final å…³é”®å­—æ˜¯æœ€ç»ˆçš„æ„æ€ï¼Œå¯ä»¥ä¿®é¥°ï¼ˆç±»ã€æ–¹æ³•ã€å˜é‡ï¼‰

- ä¿®é¥°ç±»ï¼šè¯¥ç±»è¢«ç§°ä¸ºæœ€ç»ˆç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿
- ä¿®é¥°æ–¹æ³•ï¼šè¯¥æ–¹æ³•è¢«ç§°ä¸ºæœ€ç»ˆæ–¹æ³•ï¼Œä¸èƒ½è¢«é‡å†™
- ä¿®é¥°å˜é‡ï¼šè¯¥å˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡

> :warning: æ³¨ï¼š
>
> - ä¿®é¥°åŸºæœ¬ç±»å‹çš„å˜é‡ï¼šå˜é‡å­˜å‚¨çš„æ•°æ®ä¸èƒ½è¢«æ”¹å˜
> - ä¿®é¥°å¼•ç”¨ç±»å‹çš„å˜é‡ï¼šå˜é‡å­˜å‚¨çš„åœ°å€ä¸èƒ½è¢«æ”¹å˜ï¼Œä½†åœ°å€æ‰€æŒ‡å‘å¯¹è±¡çš„å†…å®¹æ˜¯å¯ä»¥è¢«æ”¹å˜çš„

## å¸¸é‡

ä½¿ç”¨ `static final` ä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œé€šå¸¸ç”¨äºè®°å½•ç³»ç»Ÿçš„é…ç½®ä¿¡æ¯

**å‘½åè§„èŒƒ**ï¼šå»ºè®®ä½¿ç”¨å¤§å†™è‹±æ–‡å•è¯ï¼Œå¤šä¸ªå•è¯ä½¿ç”¨ä¸‹åˆ’çº¿è¿æ¥èµ·æ¥

```java
public class Constant {
  public static final String SCHOOL_NAME  = "xxxå¤§å­¦";
}
```

**ä¼˜åŠ¿ã€æ‰§è¡ŒåŸç†ï¼š**

- ä»£ç å¯è¯»æ€§æ›´å¥½ï¼Œå¯ç»´æŠ¤æ€§ä¹Ÿæ›´å¥½
- ç¨‹åºç¼–è¯‘åï¼Œå¸¸é‡ä¼šè¢«â€œå®æ›¿æ¢â€ï¼šå‡ºç°å¸¸é‡çš„åœ°æ–¹å…¨éƒ¨ä¼šè¢«æ›¿æ¢æˆå…¶è®°ä½çš„å­—é¢é‡ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä½¿ç”¨å¸¸é‡å’Œç›´æ¥ç”¨å­—é¢é‡çš„æ€§èƒ½æ˜¯ä¸€æ ·çš„

# æŠ½è±¡

ç”¨ `abstract` å…³é”®å­—ä¿®é¥°ç±»ã€æˆå‘˜æ–¹æ³•

```java
// æŠ½è±¡ç±»
ä¿®é¥°ç¬¦ abstract class ç±»å {
  // æŠ½è±¡æ–¹æ³•ï¼šåªæœ‰æ–¹æ³•ç­¾åï¼Œä¸èƒ½æœ‰æ–¹æ³•ä½“
 ä¿®é¥°ç¬¦ abstract è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å½¢å‚åˆ—è¡¨);
 }
```

**æ³¨æ„äº‹é¡¹ã€ç‰¹ç‚¹ï¼š**

- æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œæœ‰æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»
- ç±»è¯¥æœ‰çš„æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ å™¨ï¼‰æŠ½è±¡ç±»éƒ½å¯ä»¥æœ‰
- <font color="red">æŠ½è±¡ç±»ä¸èƒ½åˆ›å»ºå¯¹è±¡</font>ï¼Œä»…ä½œä¸ºä¸€ç§ç‰¹æ®Šçš„çˆ¶ç±»ï¼Œè®©å­ç±»ç»§æ‰¿å¹¶å®ç°
- ä¸€ä¸ªç±»ç»§æ‰¿æŠ½è±¡ç±»ï¼Œå¿…é¡»é‡å†™å®ŒæŠ½è±¡ç±»çš„å…¨éƒ¨æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™è¿™ä¸ªç±»ä¹Ÿå¿…é¡»å®šä¹‰æˆæŠ½è±¡ç±»

==**åº”ç”¨åœºæ™¯**==ï¼š

- ç”¨æŠ½è±¡ç±»å¯ä»¥æŠŠå­ç±»ä¸­ç›¸åŒçš„ä»£ç ï¼ŒåŒ…æ‹¬æ–¹æ³•ç­¾åéƒ½æŠ½ä¸Šæ¥ï¼Œè¿™æ ·èƒ½æ›´å¥½åœ°æ”¯æŒå¤šæ€ï¼Œä»¥æé«˜ä»£ç çš„çµæ´»æ€§
- åè¿‡æ¥ç”¨ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ç³»ç»Ÿæœªæ¥å…·ä½“çš„ä¸šåŠ¡å®ç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå®šä¹‰æŠ½è±¡ç±»ï¼Œå°†æ¥è®©å­ç±»å»ç»§æ‰¿å®ç°ï¼Œä»¥æ–¹ä¾¿ç³»ç»Ÿçš„æ‰©å±•

+++success æ¡ˆä¾‹ ğŸŒ°

```java
// çˆ¶ç±»ï¼šAnimalç±»
public abstract class Animal {
  private String name;

  public abstract void cry();

  public String getName() {
    return name;
  }

  public void setName(String name) {
    this.name = name;
  }
}
// å­ç±»ï¼šDogç±»
public class Dog extends Animal {
    public void cry() {
        System.out.println(getName() + "æ±ªæ±ªæ±ªçš„å«~~");
    }
}
// å­ç±»ï¼šCatç±»
public class Cat extends Animal {
    public void cry(){
        System.out.println(getName() + "å–µå–µå–µçš„å«~~");
    }
}

// æµ‹è¯•ç±»
public class Test {
    public static void main(String[] args) {
        Animal a = new Cat("å®å½“çŒ«");
        a.cry(); // è¿™æ—¶æ‰§è¡Œçš„æ˜¯Catç±»çš„cryæ–¹æ³•
    }
}
```

+++

## æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼

è§£å†³æ–¹æ³•ä¸­å­˜åœ¨é‡å¤ä»£ç çš„é—®é¢˜

**å†™æ³•ï¼š**

- å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»

- åœ¨é‡Œé¢å®šä¹‰ 2 ä¸ªæ–¹æ³•

  - æ¨¡æ¿æ–¹æ³•ï¼šæŠŠç›¸åŒä»£ç æ”¾é‡Œé¢å»

  - æŠ½è±¡æ–¹æ³•ï¼šå…·ä½“å®ç°äº¤ç»™å­ç±»å®Œæˆ

å»ºè®®ä½¿ç”¨ `final` å…³é”®å­—ä¿®é¥°æ¨¡æ¿æ–¹æ³•

- æ¨¡æ¿æ–¹æ³•æ˜¯ç»™å¯¹è±¡ç›´æ¥ä½¿ç”¨çš„ï¼Œä¸èƒ½è¢«å­ç±»é‡å†™
- ä¸€æ—¦å­ç±»é‡å†™äº†æ¨¡æ¿æ–¹æ³•ï¼Œæ¨¡æ¿æ–¹æ³•å°±å¤±æ•ˆäº†

+++success æ¡ˆä¾‹ ğŸŒ°

```java
public abstract class C {
  // æ¨¡æ¿æ–¹æ³•
  public final void sing() {
    System.out.println("å”±ä¸€é¦–ä½ å–œæ¬¢çš„æ­Œï¼š");
    doSing();
    System.out.println("å”±å®Œäº†!");
  }
  public abstract void doSing();
}

public class A extends C {
  @Override
  public void doSing() {
    System.out.println("ã€Šæµ·ç›—èˆ¹é•¿ã€‹");
  }
}

public class B extends C {
  @Override
  public void doSing() {
    System.out.println("ã€ŠåŸæœ¬ä½åœ¨åŒ—æçš„äººé€‰æ‹©äº†å†’é™©ã€‹");
  }
}

// æµ‹è¯•ç±»
public class Test {
  public static void main(String[] args) {
    B b = new B();
    b.sing();
  }
}
```

+++

# æ¥å£

ä½¿ç”¨ `interface` å…³é”®å­—å®šä¹‰å‡ºä¸€ç§ç‰¹æ®Šçš„ç»“æ„ï¼ŒJDK 8 ä¹‹å‰ï¼Œæ¥å£ä¸­åªèƒ½å®šä¹‰æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•

```java
public interface æ¥å£å {
  æˆå‘˜å˜é‡ï¼ˆå¸¸é‡ï¼‰
  æˆå‘˜æ–¹æ³•ï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰
}
```

- æ¥å£ä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼›æ¥å£æ˜¯ç”¨æ¥è¢«ç±»<font color="red">å®ç°ï¼ˆimplementsï¼‰</font>çš„ï¼Œå®ç°æ¥å£çš„ç±»ç§°ä¸º<font color="red">å®ç°ç±»</font>

  ```java
  ä¿®é¥°ç¬¦ class å®ç°ç±» implements æ¥å£1, æ¥å£2, æ¥å£3, ... {
  }
  ```

- <font color="red">ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£</font>ï¼Œå®ç°ç±»å®ç°å¤šä¸ªæ¥å£ï¼Œå¿…é¡»==é‡å†™å®Œå…¨éƒ¨æ¥å£çš„å…¨éƒ¨æŠ½è±¡æ–¹æ³•==ï¼Œå¦åˆ™å®ç°ç±»éœ€è¦å®šä¹‰æˆæŠ½è±¡ç±»

**å¥½å¤„ï¼š**

- å¼¥è¡¥äº†ç±»å•ç»§æ‰¿çš„ä¸è¶³ï¼Œç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªæ¥å£
- è®©ç¨‹åºå¯ä»¥é¢å‘æ¥å£ç¼–ç¨‹ï¼Œè¿™æ ·æ—¢ä¸ç”¨å…³å¿ƒå®ç°çš„ç»†èŠ‚ï¼Œä¹Ÿå¯ä»¥çµæ´»æ–¹ä¾¿çš„åˆ‡æ¢å„ç§å®ç°

+++success å†™æ³•æ¡ˆä¾‹

```java
// å®šä¹‰Bæ¥å£
public interface B {
  void testb1();
  void testb2();
}

// å®šä¹‰Cæ¥å£
public interface C {
  void testc1();
  void testc2();
}

// å®ç°ç±»D
public class D implements B, C{
  @Override
  public void testb1() {

  }

  @Override
  public void testb2() {

  }

  @Override
  public void testc1() {

  }

  @Override
  public void testc2() {

  }
}

// æµ‹è¯•ç±»
public class Test {
  public static void main(String[] args) {
    D d = new D();
    d.testb1();
    d.testc1();
  }
}
```

+++

## [æ¥å£æ¡ˆä¾‹](https://www.zhudaidai.top/Java/grammar/æ¥å£æ¡ˆä¾‹)

## JDK8 çš„æ–°ç‰¹æ€§

æ–°å¢äº†ä¸‰ç§å½¢å¼çš„æ–¹æ³•ï¼Œå¢å¼ºäº†æ¥å£çš„èƒ½åŠ›ï¼Œæ›´ä¾¿äºé¡¹ç›®çš„æ‰©å±•å’Œç»´æŠ¤

- é»˜è®¤æ–¹æ³•ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰ï¼š`default` ä¿®é¥°ï¼Œä½¿ç”¨å®ç°ç±»çš„å¯¹è±¡è°ƒç”¨
- é™æ€æ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰ï¼š`static` ä¿®é¥°ï¼Œå¿…é¡»ç”¨å½“å‰æ¥å£åè°ƒç”¨
- ç§æœ‰æ–¹æ³•ï¼š`private` ä¿®é¥°ï¼Œ==jdk9 å¼€å§‹æ‰æ”¯æŒ==ï¼Œåªèƒ½åœ¨æ¥å£å†…éƒ¨è¢«è°ƒç”¨
- éƒ½é»˜è®¤è¢« `public` ä¿®é¥°

```java
public interface A {
  default void test1() {
    ...
  }
  private void test2() {
    ...
  }
  static void test3(){
    ...
  }
}
```

## æ¥å£çš„å¤šç»§æ‰¿

ä¸€ä¸ªæ¥å£å¯ä»¥åŒæ—¶ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œä½œç”¨ï¼šä¾¿äºå®ç°ç±»å»å®ç°

```java
public interface C extends B, A {

}
```

**æ³¨æ„äº‹é¡¹ï¼ˆäº†è§£ï¼‰ï¼š**

- ä¸€ä¸ªæ¥å£ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œå¦‚æœå¤šä¸ªæ¥å£ä¸­å­˜åœ¨æ–¹æ³•ç­¾åå†²çªï¼Œåˆ™æ­¤æ—¶ä¸æ”¯æŒå¤šç»§æ‰¿

- ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£ï¼Œå¦‚æœå¤šä¸ªæ¥å£ä¸­å­˜åœ¨æ–¹æ³•ç­¾åå†²çªï¼Œåˆ™æ­¤æ—¶ä¸æ”¯æŒå¤šå®ç°

  ```java
  interface A {
    void test();
  }
  interface B {
    String test();
  }
  // æŠ¥é”™
  interface C implements A, B {
  }
  class C implements A, B {
  }
  ```

- ä¸€ä¸ªç±»ç»§æ‰¿äº†çˆ¶ç±»ï¼ŒåˆåŒæ—¶å®ç°äº†æ¥å£ï¼Œçˆ¶ç±»ä¸­å’Œæ¥å£ä¸­æœ‰åŒåçš„é»˜è®¤æ–¹æ³•ï¼Œå®ç°ç±»ä¼šä¼˜å…ˆç”¨çˆ¶ç±»çš„

- ä¸€ä¸ªç±»å®ç°äº†å¤šä¸ªæ¥å£ï¼Œå¤šä¸ªæ¥å£ä¸­å­˜åœ¨åŒåçš„é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ä¸å†²çªï¼Œè¿™ä¸ªç±»é‡å†™è¯¥æ–¹æ³•å³å¯

  ```java
  interface A {
    default void test() {
      System.out.println("Aæ¥å£");
    }
  }

  interface B {
    default void test() {
      System.out.println("Bæ¥å£");
    }
  }

  class C implements A, B {
    @Override
    public void test() {
      // é‡å†™æ–¹æ³•
    }
  }
  ```

# å†…éƒ¨ç±»

ç±»ä¸­çš„äº”å¤§æˆåˆ†ä¹‹ä¸€ï¼Œ<font color="red">å¦‚æœä¸€ä¸ªç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨</font>ï¼Œè¿™ä¸ªç±»å°±æ˜¯å†…éƒ¨ç±»

==åº”ç”¨åœºæ™¯==ï¼šå½“ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼ŒåŒ…å«äº†ä¸€ä¸ªå®Œæ•´çš„äº‹ç‰©ï¼Œä¸”è¿™ä¸ªäº‹ç‰©æ²¡æœ‰å¿…è¦å•ç‹¬è®¾è®¡æ—¶ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªäº‹ç‰©è®¾è®¡æˆå†…éƒ¨ç±»

```java
public class Car {
  // å†…éƒ¨ç±»
  public class Engine {
  }
}
```

## æˆå‘˜å†…éƒ¨ç±»

ç±»ä¸­çš„ä¸€ä¸ªæ™®é€šæˆå‘˜ï¼Œç±»ä¼¼æ™®é€šçš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•

```java
public class Outer {
  public class Inner {
  }
}

// åˆ›å»ºå¯¹è±¡çš„æ ¼å¼
å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = new å¤–éƒ¨ç±»(...).new å†…éƒ¨ç±»(...);
Outer.Inner in =  new Outer().new Inner();
```

> :warning: æ³¨ï¼šJDK 16 ä¹‹å‰ï¼Œæˆå‘˜å†…éƒ¨ç±»ä¸­ä¸èƒ½å®šä¹‰é™æ€æˆå‘˜ï¼ŒJDK 16 å¼€å§‹æ‰æ”¯æŒå®šä¹‰é™æ€æˆå‘˜

æˆå‘˜å†…éƒ¨ç±»çš„å®ä¾‹æ–¹æ³•ä¸­ï¼Œè®¿é—®å…¶ä»–æˆå‘˜çš„[ç‰¹ç‚¹ï¼š]{.rainbow}

- å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ã€é™æ€æˆå‘˜
- å¯ä»¥æ‹¿åˆ°å½“å‰å¤–éƒ¨ç±»å¯¹è±¡ï¼Œæ ¼å¼æ˜¯ï¼š`å¤–éƒ¨ç±»å.this`

## é™æ€å†…éƒ¨ç±»

æœ‰ `static` ä¿®é¥°çš„å†…éƒ¨ç±»ï¼Œå±äºå¤–éƒ¨ç±»è‡ªå·±æŒæœ‰

```java
public class Outer {
  public static class Inner {
  }
}

// åˆ›å»ºå¯¹è±¡çš„æ ¼å¼
å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = new å¤–éƒ¨ç±».å†…éƒ¨ç±»(...);
Outer.Inner in = new Outer.Inner();
```

[ç‰¹ç‚¹ï¼š]{.rainbow}å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Œä¸å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼ˆå› ä¸ºå±äºå¯¹è±¡çš„æˆå‘˜ï¼‰

## å±€éƒ¨å†…éƒ¨ç±»

å®šä¹‰åœ¨åœ¨æ–¹æ³•ä¸­ã€ä»£ç å—ä¸­ã€æ„é€ å™¨ç­‰æ‰§è¡Œä½“ä¸­

é¸¡è‚‹è¯­æ³•ï¼Œä»…ä½œäº†è§£

```java
public class Test {
  public static void main(String[] args) {
  }
  public static void go() {
    class A {}
    abstract class B {}
    interface C {}
  }
}
```

## åŒ¿åå†…éƒ¨ç±»

ä¸€ç§ç‰¹æ®Šçš„å±€éƒ¨å†…éƒ¨ç±»

åŒ¿åï¼šæŒ‡çš„æ˜¯ç¨‹åºå‘˜ä¸éœ€è¦ä¸ºè¿™ä¸ªç±»å£°æ˜åå­—

```java
new çˆ¶ç±»/æ¥å£(å‚æ•°å€¼...) {
  ç±»ä½“(ä¸€èˆ¬æ˜¯æ–¹æ³•é‡å†™);
};
```

[ç‰¹ç‚¹ï¼š]{.rainbow}åŒ¿åå†…éƒ¨ç±»æœ¬è´¨å°±æ˜¯<font color="red">ä¸€ä¸ªå­ç±»</font>ï¼Œå¹¶ä¼šç«‹å³åˆ›å»ºå‡ºä¸€ä¸ªå­ç±»å¯¹è±¡

ä½œç”¨ï¼šç”¨äºæ›´æ–¹ä¾¿åœ°åˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡

==åº”ç”¨åœºæ™¯==ï¼šé€šå¸¸ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ è¾“ç»™æ–¹æ³•

;;;id2 æ¡ˆä¾‹

```java
public class Test {
  public static void main(String[] args) {
    // æ–¹æ³•ä¸€
    Swimming s = new Swimming() {
      @Override
      public void swim() {
        System.out.println("æ¸¸æ³³~~");
      }
    };

    // æ–¹æ³•äºŒ
    go(new Swimming() {
      @Override
      public void swim() {
        System.out.println("æ¸¸æ³³~~");
      }
    });
  }

  public static void go(Swimming s) {
    System.out.println("--- start ---");
    s.swim();
    System.out.println("--- end ---");
  }
}

interface Swimming {
  void swim();
}
```

;;;

;;;id2 æ¡ˆä¾‹ 2ï¼šGUI ç¼–ç¨‹

```java
import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class Test2 {
  public static void main(String[] args) {
    // GUIç¼–ç¨‹
    JFrame win = new JFrame("ç™»å½•ç•Œé¢");
    JPanel panel = new JPanel(); // æ¡Œå¸ƒ
    win.add(panel);

    JButton btn = new JButton("ç™»å½•");
    panel.add(btn);

    // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
    btn.addActionListener(new ActionListener() {
      @Override
      public void actionPerformed(ActionEvent e) {
        JOptionPane.showMessageDialog(win, "ç™»å½•æˆåŠŸ");
      }
    });

    // ç®€åŒ–å†™æ³•
    btn.addActionListener(e -> JOptionPane.showMessageDialog(win, "ç™»å½•æˆåŠŸ"));

    win.setSize(400, 400); // çª—å£å¤§å°
    win.setLocationRelativeTo(null); // å±…ä¸­
    win.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE); // å…³é—­çª—å£é€€å‡ºç¨‹åº
    win.setVisible(true); // å¯è§
  }
}
```

;;;

# æšä¸¾

æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šç±»

```java
ä¿®é¥°ç¬¦ enum æšä¸¾ç±»å {
  åç§°1, åç§°2, ... ;
  å…¶ä»–æˆå‘˜...
}
```

- æšä¸¾ç±»çš„ç¬¬ä¸€è¡Œåªèƒ½ç½—åˆ—ä¸€äº›åç§°ï¼Œè¿™äº›åç§°éƒ½æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”æ¯ä¸ªå¸¸é‡è®°ä½çš„éƒ½æ˜¯æšä¸¾ç±»çš„ä¸€ä¸ªå¯¹è±¡
- æšä¸¾ç±»çš„æ„é€ å™¨éƒ½æ˜¯ç§æœ‰çš„ï¼ˆå†™ä¸å†™éƒ½åªèƒ½æ˜¯ç§æœ‰çš„ï¼‰ï¼Œå› æ­¤ï¼Œæšä¸¾ç±»å¯¹å¤–ä¸èƒ½åˆ›å»ºå¯¹è±¡
- æšä¸¾éƒ½æ˜¯æœ€ç»ˆç±»ï¼Œä¸å¯ä»¥è¢«ç»§æ‰¿
- æšä¸¾ç±»ä¸­ï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œå¯ä»¥å®šä¹‰ç±»çš„å…¶ä»–å„ç§æˆå‘˜
- ç¼–è¯‘å™¨ä¸ºæšä¸¾ç±»æ–°å¢äº†å‡ ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æšä¸¾ç±»éƒ½æ˜¯ç»§æ‰¿ï¼š`java.lang.Enum ç±»` çš„ï¼Œä» enum ç±»ä¹Ÿä¼šç»§æ‰¿åˆ°ä¸€äº›æ–¹æ³•

```java
public enum A {
  X, Y, Z;
}

public class Test {
  public static void main(String[] args) {
    // è·å–æšä¸¾Aç±»çš„æšä¸¾é¡¹
    A a1 = A.X;
    A a2 = A.Y;
    A a3 = A.Z;

    A[] as = A.values(); // æ‹¿åˆ°å…¨éƒ¨å¯¹è±¡
    A a4 = A.valueOf("Z");
    System.out.println(a4.name()); // Z
    System.out.println(a4.ordinal()); // 2ï¼Œç´¢å¼•å€¼
  }
}
```

åç¼–è¯‘æ¥éªŒè¯ï¼šæšä¸¾é¡¹å®é™…ä¸Šæ˜¯æšä¸¾ç±»çš„å¯¹è±¡

```java
// åç¼–è¯‘å‘½ä»¤
// javap ./A.class

Compiled from "A.java"
public final class A extends java.lang.Enum<A> {
  public static final A X = new A();
  public static final A Y = new A();
  public static final A Z = new A();
  public static A[] values();
  public static A valueOf(java.lang.String);
  static {};
}
```

```java
// ä½¿ç”¨æšä¸¾ç±»å®ç°å•ä¾‹è®¾è®¡æ¨¡å¼
public enum B {}
```

+++info æšä¸¾æ·±å…¥

å¯ä»¥åœ¨æšä¸¾ç±»ä¸­å®šä¹‰æ„é€ å™¨ã€æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•

```java
public enum A {
  // å®šä¹‰æšä¸¾é¡¹
  X, Y, Z("å‘†å‘†"); // æ‰§è¡Œæšä¸¾ç±»çš„å¸¦å‚æ•°æ„é€ æ–¹æ³•

  // æˆå‘˜å˜é‡
  private String name;

  // å®šä¹‰ç©ºæ„é€ å™¨
  public A() {
  }
  // å®šä¹‰å¸¦å‚æ•°æ„é€ å™¨
  public A(String name) {
    this.name = name;
  }

  // æˆå‘˜æ–¹æ³•
  public String getName() {
    return name;
  }
  ...
}
```

+++

## åº”ç”¨åœºæ™¯

ç”¨æ¥è¡¨ç¤ºä¸€ç»„ä¿¡æ¯ä½œä¸ºå‚æ•°è¿›è¡Œä¼ è¾“ï¼Œåšä¿¡æ¯æ ‡å¿—å’Œåˆ†ç±»

+++success æ¡ˆä¾‹

[**éœ€æ±‚**ï¼šæ ¹æ®ç”¨æˆ·ä¸åŒçš„èº«ä»½é€‰æ‹©ï¼Œæ¨èä¸åŒçš„ä¿¡æ¯ç»™ç”¨æˆ·]{.label .primary}

**æ–¹å¼ä¸€**ï¼šé€‰æ‹©å®šä¹‰ä¸€ä¸ªä¸€ä¸ªçš„å¸¸é‡æ¥è¡¨ç¤ºä¸€ç»„ä¿¡æ¯ï¼Œå¹¶ä½œä¸ºå‚æ•°ä¼ è¾“

ä¼˜ç‚¹ï¼šå‚æ•°å€¼ä¸å—çº¦æŸ

```java
public class Constant {
  public static final int GRIL = 0;
  public static final int BOY = 1;
}

public class Test {
  public static void main(String[] args) {
    check(Constant.GRIL);
    // check(1);
    // check(11);
  }
  public static void check(int sex) {
    switch (sex) {
      case Constant.GRIL:
        System.out.println("è¨€æƒ…å°è¯´");
        break;
      case Constant.BOY:
        System.out.println("æ­¦ä¾ å°è¯´");
        break;
    }
  }
}
```

**æ–¹å¼äºŒ**ï¼šé€‰æ‹©å®šä¹‰æšä¸¾è¡¨ç¤ºä¸€ç»„ä¿¡æ¯ï¼Œå¹¶ä½œä¸ºå‚æ•°ä¼ è¾“

ä¼˜ç‚¹ï¼šä»£ç å¯è¯»æ€§å¥½ï¼Œå‚æ•°å€¼å¾—åˆ°äº†çº¦æŸï¼Œå¯¹ä½¿ç”¨è€…æ›´å‹å¥½ï¼Œå»ºè®®ä½¿ç”¨

```java
public enum Constant2 {
  GRIL, BOY;
}

public class Test {
  public static void main(String[] args) {
    check(Constant2.GRIL);
  }

  public static void check(Constant2 sex) {
    switch (sex) {
      case GRIL:
        System.out.println("è¨€æƒ…å°è¯´");
        break;
      case BOY:
        System.out.println("æ­¦ä¾ å°è¯´");
        break;
    }
  }
}
```

+++

# æ³›å‹

å®šä¹‰ç±»ã€æ¥å£ã€æ–¹æ³•æ—¶ï¼ŒåŒæ—¶å£°æ˜äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªç±»å‹å˜é‡ï¼ˆå¦‚ï¼š`<E>`ï¼‰ ï¼Œç§°ä¸ºæ³›å‹ç±»ã€æ³›å‹æ¥å£ï¼Œæ³›å‹æ–¹æ³•ã€å®ƒä»¬ç»Ÿç§°ä¸ºæ³›å‹

**ä½œç”¨**ï¼šæä¾›äº†åœ¨ç¼–è¯‘é˜¶æ®µçº¦æŸæ‰€èƒ½æ“ä½œçš„æ•°æ®ç±»å‹ï¼Œå¹¶è‡ªåŠ¨è¿›è¡Œæ£€æŸ¥çš„èƒ½åŠ›ï¼è¿™æ ·å¯ä»¥é¿å…å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ŒåŠå…¶å¯èƒ½å‡ºç°çš„å¼‚å¸¸

**æœ¬è´¨**ï¼š<font color="red">æŠŠå…·ä½“çš„æ•°æ®ç±»å‹ä½œä¸ºå‚æ•°ä¼ ç»™ç±»å‹å˜é‡</font>

```java
public class ArrayList<E> {
  ...
}
```

## è‡ªå®šä¹‰æ³›å‹ç±»

```java
ä¿®é¥°ç¬¦ class ç±»å<ç±»å‹å˜é‡, ç±»å‹å˜é‡, ...> {
}
```

> :warning: æ³¨ï¼šç±»å‹å˜é‡å»ºè®®ç”¨å¤§å†™çš„è‹±æ–‡å­—æ¯ï¼Œå¸¸ç”¨çš„æœ‰ï¼š`Eã€Tã€Kã€V` ç­‰

+++success è‡ªå®šä¹‰ MyArrayList ç±»

```java
public class MyArrayList<E> {
  private Object[] arr = new Object[10];
  private int size; // è®°å½•å½“å‰ä½ç½®

  public boolean add(E e) {
    arr[size++] = e;
    return true;
  }

  public E get(int index) {
    return (E) arr[index];
  }
}
```

+++

## è‡ªå®šä¹‰æ³›å‹æ¥å£

```java
ä¿®é¥°ç¬¦ interface æ¥å£å<ç±»å‹å˜é‡, ç±»å‹å˜é‡, ...> {
}
```

+++success æ¡ˆä¾‹

[**éœ€æ±‚**ï¼šä¸€ä¸ªç³»ç»Ÿè¦å¤„ç†å­¦ç”Ÿå’Œè€å¸ˆçš„æ•°æ®ï¼Œéœ€è¦æä¾› 2 ä¸ªåŠŸèƒ½ï¼Œä¿å­˜å¯¹è±¡æ•°æ®ã€æ ¹æ®åç§°æŸ¥è¯¢æ•°æ®ï¼Œè¦æ±‚ï¼šè¿™ä¸¤ä¸ªåŠŸèƒ½å¤„ç†çš„æ•°æ®æ—¢èƒ½æ˜¯è€å¸ˆå¯¹è±¡ï¼Œä¹Ÿèƒ½æ˜¯å­¦ç”Ÿå¯¹è±¡]{.label .primary}

1ã€è¦æœ‰å­¦ç”Ÿç±»å’Œè€å¸ˆç±»

```java
public class Teacher {}
public class Student {}
```

2ã€å®šä¹‰ä¸€ä¸ª `Data<T>` æ³›å‹æ¥å£

```java
import java.util.ArrayList;

public interface Data<T> {
  public void add(T t);
  public ArrayList<T> getByName(String name);
}
```

3ã€Teacher å¯¹è±¡çš„æ¥å£å®ç°ç±»

```java
import java.util.ArrayList;

public class TeacherData implements Data<Teacher> {
  @Override
  public void add(Teacher teacher) {

  }
  @Override
  public ArrayList<Teacher> getByName(String name) {
    return null;
  }
}
```

4ã€Student å¯¹è±¡çš„æ¥å£å®ç°ç±»åŒç†

+++

## æ³›å‹æ–¹æ³•

```java
ä¿®é¥°ç¬¦ <ç±»å‹å˜é‡, ç±»å‹å˜é‡, ...> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å‚åˆ—è¡¨) {
}

// ä¾‹å­
public static <T> void test(T t) {
  return t;
}
// ä¸æ˜¯æ³›å‹æ–¹æ³•
public E get(int index) {
  return (E) arr[index];
}
```

## æ³›å‹é™å®š

é€šé…ç¬¦ï¼šå°±æ˜¯ `?`ï¼Œä½¿ç”¨æ³›å‹çš„æ—¶å€™ä»£è¡¨ä¸€åˆ‡ç±»å‹

å¯¹æ³›å‹çš„æ•°æ®ç±»å‹è¿›è¡ŒèŒƒå›´çš„é™åˆ¶

- `<?>` è¡¨ç¤ºä»»æ„ç±»å‹
- ä¸Šé™ï¼š`<? extends æ•°æ®ç±»å‹>` è¡¨ç¤ºæŒ‡å®šç±»å‹æˆ–è€…æŒ‡å®šç±»å‹çš„å­ç±»
- ä¸‹é™ï¼š`<? super æ•°æ®ç±»å‹>` è¡¨ç¤ºæŒ‡å®šç±»å‹æˆ–è€…æŒ‡å®šç±»å‹çš„çˆ¶ç±»

+++success æ¡ˆä¾‹

```java
class Animal {}
class Cat extends Animal {}
class Dog extends Animal {}

public class Test {
  public static void main(String[] args) {
      // test1æ–¹æ³•æ¥æ”¶ï¼šä»»æ„ç±»å‹
      ArrayList<Cat> list1 = new ArrayList<>();
      ArrayList<Dog> list2 = new ArrayList<>();
      ArrayList<String> list3 = new ArrayList<>();
      test1(list1);
      test1(list2);
      test1(list3);

      // test2æ–¹æ³•æ¥æ”¶ï¼šAnimalæˆ–è€…Animalçš„å­ç±»ç±»å‹
      ArrayList<Animal> list4 = new ArrayList<>();
      ArrayList<Cat> list5 = new ArrayList<>();
      test2(list4);
      test2(list5);

      // test3æ–¹æ³•æ¥æ”¶ï¼šAnimalæˆ–è€…Animalçš„çˆ¶ç±»ç±»å‹
      ArrayList<Animal> list6 = new ArrayList<>();
      ArrayList<Object> list7 = new ArrayList<>();
      test3(list6);
      test3(list7);
  }

  public static void test1(ArrayList<?> list) {}
  public static void test2(ArrayList<? extends Animal> list) {}
  public static void test3(ArrayList<? super Animal> list) {}
}
```

+++

## æ³›å‹æ“¦é™¤

- æ³›å‹æ˜¯å·¥ä½œåœ¨ç¼–è¯‘é˜¶æ®µçš„ï¼Œä¸€æ—¦ç¨‹åºç¼–è¯‘æˆ class æ–‡ä»¶ï¼Œclass æ–‡ä»¶ä¸­å°±ä¸å­˜åœ¨æ³›å‹äº†ï¼Œè¿™å°±æ˜¯æ³›å‹æ“¦é™¤

- æ³›å‹ä¸æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåªæ”¯æŒå¯¹è±¡ç±»å‹ï¼ˆå¼•ç”¨æ•°æ®ç±»å‹ï¼‰

```java
// è‹¥è¦æ·»åŠ intæˆ–doubleç±»å‹
ArrayList<Integer> list1 = new ArrayList<>();
list1.add(1);

ArrayList<Double> list2 = new ArrayList<>();
list2.add(1.0);
```
