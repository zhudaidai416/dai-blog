---
title: åŸºç¡€è¯­æ³•2
date: 2024-10-22 00:17:53
category:
  - [è®¡ç®—æœºä¸ç§‘å­¦, C#]
tags: C#
cover: https://daiblog.oss-cn-chengdu.aliyuncs.com/cover/2-4.jpg
---

# è¡¨è¾¾å¼

## å®šä¹‰

An expression is a sequence of <font color=red>one or more operands</font> and <font color=red>zero or more operators</font> that can be evaluated to a sing value, object, method, or namespace.

```csharp
// Single Value
int x = 100;

// Object
(new Form()).ShowDialog();

// Method
Action myActino = new Action(Console.WriteLine); // Console.WriteLineå°±æ˜¯æ–¹æ³•ï¼Œæˆå‘˜è®¿é—®è¡¨è¾¾å¼

// Namespace
System.Windows.Forms.Form myForm = new Form(); // System.Windows.Formsåç§°ç©ºé—´è®¿é—®è¡¨è¾¾å¼
```

- ç®—æ³•é€»è¾‘çš„æœ€åŸºæœ¬ï¼ˆæœ€å°ï¼‰å•å…ƒï¼Œè¡¨è¾¾ä¸€å®šçš„ç®—æ³•æ„å›¾
- å› ä¸ºæ“ä½œç¬¦æœ‰ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥è¡¨è¾¾å¼ä¹Ÿå°±æœ‰äº†ä¼˜å…ˆçº§

## [å„ç±»è¡¨è¾¾å¼æ¦‚è§ˆ](https://www.yuque.com/yuejiangliu/dotnet/timothy-csharp-013-016#fb426a70)

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542073732324-a0dd50ff-5333-40a0-9546-afbac3fd5fa2.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

### C# è¯­è¨€ä¸­è¡¨è¾¾å¼çš„åˆ†ç±»

An event access

```csharp

static void Main(string[] args)
{
    var myForm = new Form();
    // è®¿é—®å±æ€§
    myForm.Text = "Hello";
    // è®¿é—®äº‹ä»¶
    myForm.Load += MyForm_Load;
    myForm.ShowDialog();
}

private static void MyForm_Load(object sender, EventArgs e)
{
  var form = sender as Form;
  if (form == null)
  {
    return;
  }
  form.Text = "New Title";
}
```

## è¯­å¥å®šä¹‰

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542073988044-18fa172d-67df-46fb-8491-e456765874d3.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074021692-ef5bb4f3-e20e-4b18-9e01-70e5dcea3172.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

# è¯­å¥è¯¦è§£

## å£°æ˜è¯­å¥

å±€éƒ¨å˜é‡å£°æ˜ä¸å±€éƒ¨å¸¸é‡å£°æ˜ï¼Œè¯¦æƒ…å‚è§ C#è¯­è¨€å®šä¹‰æ–‡æ¡£

## è¡¨è¾¾å¼è¯­å¥

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074330698-8977a412-9560-42c3-beb8-fd85474a2d3b.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

expression-statement ç”¨äºè®¡ç®—æ‰€ç»™å®šçš„è¡¨è¾¾å¼ã€‚ç”±æ­¤è¡¨è¾¾å¼è®¡ç®—å‡ºæ¥çš„å€¼ï¼ˆå¦‚æœæœ‰ï¼‰è¢«ä¸¢å¼ƒ

```csharp
static void Main(string[] args)
{
  // Add äº§ç”Ÿçš„7.0ï¼Œå¦‚æœå‰é¢æ²¡æœ‰æ‹¿å˜é‡æ¥æ”¶å®ƒï¼Œå€¼è¢«ä¸¢å¼ƒäº†
  Add(3.0, 4.0);
}

static double Add(double a,double b)
{
  return a + b;
}
```

**Single Responsibility** å•ä¸€èŒè´£åŸåˆ™ï¼šä¸€ä¸ªæ–¹æ³•å°½é‡åªåšä¸€ä»¶äº‹æƒ…

## å—è¯­å¥

- å—è¯­å¥æ— è®ºä»€ä¹ˆæ—¶å€™éƒ½è¢«ç¼–è¯‘å™¨å½“åšä¸€æ¡è¯­å¥æ¥çœ‹å¾…
- ç¼–è¯‘å™¨è®¤ä¸ºå—è¯­å¥æ˜¯ä¸€æ¡å®Œæ•´çš„è¯­å¥ï¼ˆå³å—è¯­å¥æœ€åä¸ç”¨åŠ  `;` å·ï¼‰

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074444248-661f1226-4b07-41fc-bc1f-687213555ac7.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

**å˜é‡çš„ä½œç”¨åŸŸ**ï¼šå—ä¹‹å†…å£°æ˜çš„å˜é‡ï¼Œä½œç”¨åŸŸä»…åœ¨å—å†…

```csharp
static void Main(string[] args)
{
  int x = 100;
  {
    Console.WriteLine(x);
    int y = 200;
    Console.WriteLine(y);
  }

  // Error CS0103  å½“å‰ä¸Šä¸‹æ–‡ä¸­ä¸å­˜åœ¨åç§°â€œyâ€
  Console.WriteLine(y);
}
```

ğŸš© `Ctrl + }`ï¼šè·³è½¬è‡³è¯¥èŠ±æ‹¬å·å¯¹åº”çš„èŠ±æ‹¬å·å¤„

## é€‰æ‹©ï¼ˆåˆ¤æ–­ã€åˆ†æ”¯ï¼‰è¯­å¥

æ ¹æ®è¡¨è¾¾å¼çš„å€¼ä»è‹¥å¹²ä¸ªç»™å®šçš„è¯­å¥ä¸­é€‰æ‹©ä¸€ä¸ªæ¥æ‰§è¡Œ

### if

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074514803-0cf8bca8-eafb-498f-bfbb-a226cc3a7006.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

```csharp
if (æ¡ä»¶)
{
  ...
}
else if ()
{
  ...
}
else
{
  ...
}
```

### switch

![image.png](https://cdn.nlark.com/yuque/0/2021/png/101969/1624929037735-72b62b95-5ae7-4aa7-944b-bc77c03db7d6.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_916%2Climit_0)

- è¡¨è¾¾å¼çš„ç±»å‹ä¸º sbyteã€byteã€shortã€ushortã€intã€uintã€longã€ulongã€boolã€charã€string æˆ– enum-typeï¼Œæˆ–è€…æ˜¯å¯¹åº”äºä»¥ä¸ŠæŸç§ç±»å‹çš„å¯ä»¥ä¸º null çš„ç±»å‹ï¼Œåˆ™è¯¥ç±»å‹å°±æ˜¯ switch è¯­å¥çš„ä¸»å¯¼ç±»å‹
- ä» C# 7.0 å¼€å§‹ switch è¡¨è¾¾å¼å·²[æ”¯æŒä»»ä½•é null è¡¨è¾¾å¼](https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/keywords/switch#the-match-expression)

```csharp
switch (å˜é‡)
{
  case æ¡ä»¶1:
    ...
    break;
  case æ¡ä»¶2:
    ...
    break;
  default:
    ...
    break;
}
```

### try

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074740882-67d4ef6b-0ae7-4c45-ba98-893e7894eb37.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

å¯ä»¥é€šè¿‡ MSDN æŸ¥æ–¹æ³•ç›¸åº”çš„å¼‚å¸¸

å¦‚ Int32.Parse æ–¹æ³• (String) å°±æœ‰ä»¥ä¸‹å¼‚å¸¸

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542074761770-1220bca6-cc26-45c3-9ebd-628761c66f7e.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_611%2Climit_0)

```csharp
try
{
  ...
}
catch(OverflowException)
{
  throw;
}
finally
{
  ... // æ€»æ˜¯ä¼šæ‰§è¡Œï¼šåº”è¯¥å†™é‡Šæ”¾ç³»ç»Ÿèµ„æºçš„è¯­å¥/ç¨‹åºçš„logï¼ˆå³ç¨‹åºçš„æ‰§è¡Œè®°å½•ï¼‰
}
```

+++success æ¼”ç¤ºï¼šåŠ ä¸Šæ ‡è¯†ç¬¦

```csharp
 public int Add(string arg1, string arg2)
{
  int a = 0;
  int b = 0;
  try {
    a = int.Parse(arg1);
    b = int.Parse(arg2);
  }
  catch (ArgumentNullException ane) {
    Console.WriteLine(ane.Message);
  }
  catch (FormatException fe) {
    Console.WriteLine(fe.Message);
  }
  catch (OverflowException oe) {
    Console.WriteLine(oe.Message);
  }
  int result = a + b;
  return result;
}
```

+++

### ä¸‰å…ƒè¿ç®—ç¬¦

```csharp
Exp1 ? Exp2 : Exp3;
```

## è¿­ä»£ï¼ˆå¾ªç¯ï¼‰è¯­å¥

|  å¾ªç¯ç±»å‹  | æè¿°                                                                                             |    ä½¿ç”¨åœºæ™¯    |
| :--------: | ------------------------------------------------------------------------------------------------ | :------------: |
|   while    | æŒ‰ä¸åŒæ¡ä»¶æ‰§è¡Œä¸€ä¸ªåµŒå…¥è¯­å¥é›¶æ¬¡æˆ–å¤šæ¬¡                                                             |  ç¡®å®šå¾ªç¯æ¡ä»¶  |
| do...while | æŒ‰ä¸åŒæ¡ä»¶æ‰§è¡Œä¸€ä¸ªåµŒå…¥è¯­å¥ä¸€æ¬¡æˆ–å¤šæ¬¡                                                             | è‡³å°‘è¢«æ‰§è¡Œä¸€æ¬¡ |
|    for     | è®¡ç®—ä¸€ä¸ªåˆå§‹åŒ–è¡¨è¾¾å¼åºåˆ—ï¼Œç„¶åï¼Œå½“æŸä¸ªæ¡ä»¶ä¸ºçœŸæ—¶ï¼Œé‡å¤æ‰§è¡Œç›¸å…³çš„åµŒå…¥è¯­å¥å¹¶è®¡ç®—ä¸€ä¸ªè¿­ä»£è¡¨è¾¾å¼åºåˆ— |    ç¡®å®šæ¬¡æ•°    |
|  foreach   | ç”¨äºæšä¸¾ä¸€ä¸ªé›†åˆçš„å…ƒç´ ï¼Œå¹¶å¯¹è¯¥é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç›¸å…³çš„åµŒå…¥è¯­å¥                             |                |
|  åµŒå¥—å¾ªç¯  | å¯ä»¥åœ¨ whileã€for æˆ– do..while å¾ªç¯å†…ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯                                          |                |

```csharp
int i = 0;
while(i < 10)
{
  Console.WriteLine(i);
  i++;
}


int i = 0;
do
{
  Console.WriteLine(i);
  i++;
} while (i < 10);


for (int i = 0; i < 10; i++)
{
  Console.WriteLine(i);
}

int i = 0;
for ( ; i < 10; )
{
  Console.WriteLine(i);
  i++;
}
for( ; ; ) // æ­»å¾ªç¯


int intArray = new int[] { 1, 3, 5 ,7};
foreach (var i in inArray) {
  Console.WriteLine(i);
}
```

**è¿­ä»£å™¨**

é›†åˆéå†çš„åº•å±‚åŸç†å’Œè¿­ä»£å™¨ï¼Œforeach è¯­å¥å°±æ˜¯å¯¹é›†åˆéå†çš„ç®€è®°æ³•

```csharp
static void Main(string[] args)
{
  var intArray = new int[] { 1, 3, 5 ,7};
  IEnumerator enumerator = intArray.GetEnumerator();
  while (enumerator.MoveNext())
  {
    Console.WriteLine(enumerator.Current);
  }

  enumerator.Reset();

  var intList = new List<int>() { 2, 4, 6, 8 };
  IEnumerator enumerator2 = intList.GetEnumerator();
  while (enumerator2.MoveNext())
  {
    Console.WriteLine(enumerator2.Current);
  }
}
```

## è·³è½¬è¯­å¥

| æ§åˆ¶è¯­å¥ | æè¿°                                               |
| -------- | -------------------------------------------------- |
| break    | ç»“æŸæ•´ä¸ªå¾ªç¯                                       |
| continue | ä¸­æ­¢å½“å‰å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯                         |
| goto     | å°†æ§åˆ¶è½¬åˆ°ç”±æ ‡ç­¾æ ‡è®°çš„è¯­å¥                         |
| throw    | å°†å¼•å‘ä¸€ä¸ªå¼‚å¸¸ï¼Œè¯­æ³•æ¯”è¾ƒçµæ´»ï¼Œå®ƒåé¢å¯ä»¥ä»€ä¹ˆéƒ½ä¸è·Ÿ |
| return   | æ§åˆ¶è¿”å›åˆ°å‡ºç° return è¯­å¥çš„å‡½æ•°çš„å½“å‰è°ƒç”¨æ–¹       |

**æå‰ return åŸåˆ™ï¼š**

```csharp
class Program
{
  static void Main(string[] args)
  {
    Greeting("Mr.Duan");
  }

  static void Greeting(string name)
  {
    if (string.IsNullOrEmpty(name))
    {
      // é€šè¿‡å°½æ—© return å¯ä»¥è®©ä»£ç é˜…è¯»è€…ç«‹åˆ»å°±é‰´åˆ«å‡ºæ¥
      // name å‚æ•°åœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ˜¯æœ‰é—®é¢˜çš„
      return;
    }
    Console.WriteLine("Hello, {0}", name);
  }
}
```

# å­—æ®µã€å±æ€§ã€ç´¢å¼•å™¨ã€å¸¸é‡

è¿™å››ç§æˆå‘˜éƒ½æ˜¯ç”¨æ¥è¡¨ç¤ºæ•°æ®çš„

| **æˆå‘˜** | **è¯´æ˜**                             |
| -------- | ------------------------------------ |
| å¸¸é‡     | ä¸ç±»å…³è”çš„å¸¸é‡å€¼                     |
| å­—æ®µ     | ç±»çš„å˜é‡                             |
| æ–¹æ³•     | ç±»å¯æ‰§è¡Œçš„è®¡ç®—å’Œæ“ä½œ                 |
| å±æ€§     | ä¸è¯»å†™ç±»çš„å‘½åå±æ€§ç›¸å…³è”çš„æ“ä½œ       |
| ç´¢å¼•å™¨   | ä¸ä»¥æ•°ç»„æ–¹å¼ç´¢å¼•ç±»çš„å®ä¾‹ç›¸å…³è”çš„æ“ä½œ |
| äº‹ä»¶     | å¯ç”±ç±»ç”Ÿæˆçš„é€šçŸ¥                     |
| è¿ç®—ç¬¦   | ç±»æ‰€æ”¯æŒçš„è½¬æ¢å’Œè¡¨è¾¾å¼è¿ç®—ç¬¦         |
| æ„é€ å‡½æ•° | åˆå§‹åŒ–ç±»çš„å®ä¾‹æˆ–ç±»æœ¬èº«æ‰€éœ€çš„æ“ä½œ     |
| ææ„å‡½æ•° | åœ¨æ°¸ä¹…ä¸¢å¼ƒç±»çš„å®ä¾‹ä¹‹å‰æ‰§è¡Œçš„æ“ä½œ     |
| ç±»å‹     | ç±»æ‰€å£°æ˜çš„åµŒå¥—ç±»å‹                   |

## å­—æ®µ

### å®šä¹‰

å­—æ®µï¼ˆfieldï¼‰æ˜¯ä¸€ç§è¡¨ç¤ºä¸å¯¹è±¡æˆ–ç±»ï¼ˆç±»ä¸ç»“æ„ä½“ï¼‰å…³è”çš„å˜é‡

- å­—æ®µæ˜¯ç±»å‹çš„æˆå‘˜ï¼Œæ—§ç§°â€œæˆå‘˜å˜é‡â€
- å®ä¾‹å­—æ®µï¼šä¸å¯¹è±¡å…³è”çš„å­—æ®µ
- é™æ€å­—æ®µï¼šä¸ç±»å‹å…³è”çš„å­—æ®µï¼Œç”± `static` ä¿®é¥°

+++success ç¤ºä¾‹ï¼šå®ä¾‹å­—æ®µä¸é™æ€å­—æ®µ

```csharp
class Program
{
  static void Main(string[] args)
  {
    List<Student> stuList = new List<Student>();
    for (int i = 0; i < 100; i++)
    {
      Student stu = new Student();
      stu.Age = 24,
      stu.Score = i,
      stuList.Add(stu);
    }

    int totalAge = 0;
    int totalScore = 0;
    foreach (var stu in stuList)
    {
      totalAge += stu.Age;
      totalScore += stu.Score;
    }

    Student.AverageAge = totalAge / Student.Amout;
    Student.AverageScore = totalScore / Student.Amout;

    Student.ReportAmount();
    Student.ReportAverageAge();
    Student.ReportScore();
  }

  class Student
  {
    public int Age; // å®ä¾‹å­—æ®µ
    public int Score;

    public static int AverageAge; // é™æ€å­—æ®µ
    public static int AverageScore;
    public static int Amout;

    public Student()
    {
      Student.Amout++;
    }

    public static void ReportAmount()
    {
      Console.WriteLine(Student.Amout);
    }

    public static void ReportAverageAge()
    {
      Console.WriteLine(Student.AverageAge);
    }

    public static void ReportScore()
    {
      Console.WriteLine(Student.AverageScore);
    }
  }
}
```

+++

### å­—æ®µå£°æ˜

å­—æ®µå£°æ˜å¸¦æœ‰åˆ†å·ï¼Œä½†å®ƒä¸æ˜¯è¯­å¥ï¼Œå­—æ®µçš„åå­—ä¸€å®šæ˜¯åè¯

- å®ä¾‹å­—æ®µï¼šåˆå§‹åŒ–çš„æ—¶æœºæ˜¯åœ¨å®ä¾‹åˆ›å»ºæ—¶
  - å£°æ˜å®ä¾‹å­—æ®µæ—¶åˆå§‹åŒ–å€¼ä¸åœ¨å®ä¾‹æ„é€ å™¨é‡Œé¢åˆè¯†åŒ–å®ä¾‹å­—æ®µæ˜¯ä¸€æ ·çš„
- é™æ€å­—æ®µï¼šåˆå§‹åŒ–çš„æ—¶æœºæ˜¯åœ¨è¿è¡Œç¯å¢ƒåŠ è½½è¯¥æ•°æ®ç±»å‹æ—¶
  - å³é™æ€æ„é€ å™¨åˆå§‹åŒ–æ—¶
  - å£°æ˜é™æ€å­—æ®µæ—¶è®¾ç½®åˆå§‹åŒ–å€¼ä¸åœ¨é™æ€æ„é€ å™¨é‡Œé¢åˆå§‹åŒ–é™æ€å­—æ®µå…¶å®æ˜¯ä¸€æ ·çš„

æ•°æ®ç±»å‹è¢«è¿è¡Œç¯å¢ƒåŠ è½½æ—¶ï¼Œå®ƒçš„é™æ€æ„é€ å™¨å°†ä¼šè¢«è°ƒç”¨ï¼Œä¸”åªè¢«è°ƒç”¨ä¸€æ¬¡

```csharp
public static int Amout = 100;

// é™æ€æ„é€ å™¨
static Student()
{
  Amout = 200;
}
```

### å­—æ®µçš„åˆå§‹å€¼

- æ— æ˜¾å¼åˆå§‹åŒ–æ—¶ï¼Œå­—æ®µè·å¾—å…¶ç±»å‹çš„é»˜è®¤å€¼ï¼Œæ‰€ä»¥â€œå­—æ®µæ°¸è¿œéƒ½ä¸ä¼šæœªè¢«åˆå§‹åŒ–â€
- å®ä¾‹å­—æ®µåˆå§‹åŒ–çš„æ—¶æœº â€”â€” å¯¹è±¡åˆ›å»ºæ—¶
- é™æ€å­—æ®µåˆå§‹åŒ–çš„æ—¶æœº â€”â€” ç±»å‹æˆ–è¢«åŠ è½½ï¼ˆloadï¼‰æ—¶ï¼Œå³é™æ€æ„é€ å™¨è¢«åŠ è½½æ—¶

### åªè¯»å­—æ®µ

åªè¯»å­—æ®µä¸ºå®ä¾‹æˆ–ç±»å‹ä¿å­˜ä¸€æ—¦åˆå§‹åŒ–åå°±ä¸å¸Œæœ›å†æ”¹å˜çš„å€¼

- å®ä¾‹åªè¯»å­—æ®µ
- é™æ€åªè¯»å­—æ®µ

ğŸš© ctor + 2 \* TABï¼šæ’å…¥æ„é€ å‡½æ•°ä»£ç ç‰‡æ®µ

+++success ç¤ºä¾‹

```csharp
class Student()
{
  public readonly int ID; // å®ä¾‹åªè¯»å­—æ®µ

  public Student(int id)
  {
    this.ID = id;
  }
}
```

```csharp
class Program
{
  static void Main(string[] args)
  {
    Console.WriteLine(Brush.DefaultColor.Red);
  }
}

struct Color
{
  public int Red;
  public int Green;
  public int Blue;
}

class Brush
{
  public static readonly Color DefaultColor = new Color() { Red = 0, Green = 0, Blue = 0 } // é™æ€åªè¯»å­—æ®µ

  // å¦ä¸€ç§å†™æ³•ï¼šé™æ€æ„é€ å™¨
  public static readonly Color DefaultColor;
  static Brush ()
  {
    Brush.DefaultColor= new Color() { Red = 0, Green = 0, Blue = 0 }
  }
}
```

+++

## å±æ€§

### å®šä¹‰

- å±æ€§ï¼ˆpropertyï¼‰æ˜¯ä¸€ç§ç”¨äºè®¿é—®å¯¹è±¡æˆ–ç±»å‹çš„ç‰¹å¾çš„æˆå‘˜ï¼Œç‰¹å¾åæ˜ äº†çŠ¶æ€
- å±æ€§æ˜¯å­—æ®µçš„è‡ªç„¶æ‰©å±•
  - ä»å‘½åä¸Šçœ‹ï¼Œå­—æ®µæ›´åå‘äºå®ä¾‹å¯¹è±¡åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œå±æ€§æ›´åå‘äºåæ˜ ç°å®ä¸–ç•Œå¯¹è±¡çš„ç‰¹å¾
  - å¯¹å¤–ï¼šæš´éœ²æ•°æ®ï¼Œæ•°æ®å¯ä»¥æ˜¯å­˜å‚¨åœ¨å­—æ®µé‡Œçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€è®¡ç®—å‡ºæ¥çš„
  - å¯¹å†…ï¼šä¿æŠ¤å­—æ®µä¸è¢«éæ³•å€¼â€œæ±¡æŸ“â€
- å±æ€§ç”± Get/Set æ–¹æ³•å¯¹è¿›åŒ–è€Œæ¥
- åˆä¸€ä¸ªâ€œè¯­æ³•ç³–â€â€”â€” å±æ€§èƒŒåçš„ç§˜å¯†

+++success ä½¿ç”¨ Get/Set ä¿æŠ¤å­—æ®µ

```csharp
class Program
{
  static void Main(string[] args)
  {
    try
    {
      Student stu1 = new Student();
      stu1.SetAge(20);

      Student stu2 = new Student();
      stu2.SetAge(20);

      Student stu3 = new Student();
      stu3.SetAge(20);

      int avgAge = (stu1.GetAge() + stu2.GetAge() + stu3.GetAge()) / 3;
      Console.WriteLine(avgAge);
     }
     catch (Exception ex)
     {
       Console.WriteLine(ex);
     }
   }
}
class Student
{
  private int age;
  public int GetAge()
  {
    return this.age;
  }
  public void SetAge(int age)
  {
    if (age >= 0 && age <= 120)
    {
      this.age = age;
    }
    else
    {
      throw new Exception("Age value has error!");
    }
  }
}
```

+++

+++success Get/Set å†™èµ·æ¥å†—é•¿ï¼ŒC# å¼•å…¥äº†å±æ€§

```csharp
class Program
{
  static void Main(string[] args)
  {
    try
    {
      Student stu1 = new Student();
      stu1.Age=20;

      Student stu2 = new Student();
      stu2.Age = 20;

      Student stu3 = new Student();
      stu3.Age = 200;

      int avgAge = (stu1.Age + stu2.Age + stu3.Age) / 3;
      Console.WriteLine(avgAge);
    }
    catch (Exception ex)
    {
      Console.WriteLine(ex.Message);
    }
  }
}

class Student
{
  private int age;
  public int Age
  {
    get
    {
      return age;
    }

    set
    {
      if (value >= 0 && value <= 120)
      {
        age = value;
      }
      else
      {
        throw new Exception("Age value has error.");
      }
    }
  }
}
```

+++

### å±æ€§å£°æ˜

- å®Œæ•´å£°æ˜ â€”â€” åå°ï¼ˆbackï¼‰æˆå‘˜å˜é‡ä¸è®¿é—®å™¨ï¼ˆæ³¨æ„ä½¿ç”¨ code snippet å’Œ refactor å·¥å…·ï¼‰
- ç®€ç•¥å£°æ˜ â€”â€” åªæœ‰è®¿é—®å™¨ï¼ˆæŸ¥çœ‹ IL ä»£ç ï¼‰
- åªè¯»å±æ€§ â€”â€” åªæœ‰ getter æ²¡æœ‰ setter

ğŸš© prop + 2 _ tabï¼šå±æ€§çš„ç®€ç•¥å£°æ˜ï¼Œpropfull + 2 _ tabï¼šå±æ€§çš„å®Œæ•´å£°æ˜

### åŠ¨æ€è®¡ç®—å€¼çš„å±æ€§

**å±æ€§ä¸å­—æ®µçš„å…³ç³»**

- éƒ½ç”¨äºè¡¨ç¤ºå®ä½“ï¼ˆå¯¹è±¡æˆ–ç±»å‹ï¼‰çš„çŠ¶æ€
- å±æ€§å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å­—æ®µçš„åŒ…è£…å™¨
- å»ºè®®ï¼šæ°¸è¿œä½¿ç”¨å±æ€§ï¼ˆè€Œä¸æ˜¯å­—æ®µï¼‰æ¥æš´éœ²æ•°æ®ï¼Œå³å­—æ®µæ°¸è¿œéƒ½æ˜¯ private æˆ– protected

+++success ä¸»åŠ¨è®¡ç®—

```csharp
// æ¯æ¬¡è·å– CanWork æ—¶éƒ½è®¡ç®—ï¼Œé€‚ç”¨äº CanWork å±æ€§ä½¿ç”¨é¢‘ç‡ä½çš„æƒ…å†µ
class Program
{
    static void Main(string[] args)
    {
        try
        {
            var stu1 = new Student();
            stu1.Age = 12;

            Console.WriteLine(stu1.CanWork);
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.Message);
        }
    }
}

class Student
{
    private int age;

    public int Age
    {
        get { return age; }
        set
        {
            age = value;
        }
    }

    public bool CanWork
    {
        get
        {
            return age > 16;
        }
    }
}
```

+++

+++success è¢«åŠ¨è®¡ç®—

```csharp
// åªåœ¨ Age èµ‹å€¼æ—¶è®¡ç®—ä¸€æ¬¡ï¼Œé€‚ç”¨äº Age å±æ€§ä½¿ç”¨é¢‘ç‡ä½ï¼ŒCanWork ä½¿ç”¨é¢‘ç‡é«˜çš„æƒ…å†µ
class Program
{
    static void Main(string[] args)
    {
        try
        {
            var stu1 = new Student();
            stu1.Age = 12;

            Console.WriteLine(stu1.CanWork);
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex.Message);
        }
    }
}

class Student
{
    private int age;

    public int Age
    {
        get { return age; }
        set
        {
            age = value;
            CalculateCanWork();
        }
    }

    private bool canWork;

    public bool CanWork
    {
        get { return canWork; }
    }

    private void CalculateCanWork()
    {
        canWork = age > 16;
    }
}
```

+++

## ç´¢å¼•å™¨

ä½¿å¯¹è±¡èƒ½å¤Ÿç”¨ä¸æ•°ç»„ç›¸åŒçš„æ–¹å¼ï¼ˆä½¿ç”¨ä¸‹æ ‡ï¼‰è¿›è¡Œç´¢å¼•

> :warning: æ³¨ï¼šæ²¡æœ‰é™æ€ç´¢å¼•å™¨

ğŸš© index + 2 \* tabï¼šå¿«é€Ÿå£°æ˜ç´¢å¼•å™¨

ç´¢å¼•å™¨ä¸€èˆ¬éƒ½æ˜¯ç”¨åœ¨é›†åˆä¸Šé¢ï¼Œåƒå¦‚ä¸‹ç¤ºä¾‹è¿™æ ·ç”¨æ˜¯å¾ˆå°‘è§çš„ï¼ˆåªæ˜¯ä¸ºäº†è®²è§£æ–¹ä¾¿ï¼‰

+++success ç¤ºä¾‹

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = new Student();
        stu["Math"] = 90;
        var mathScore = stu["Math"];
        Console.WriteLine(mathScore);
    }
}

class Student
{
    private Dictionary<string, int> scoreDictionary = new Dictionary<string, int>();

    public int? this[string subject] {
        get {
            if (this.scoreDictionary.ContainsKey(subject)) {
                return this.scoreDictionary[subject];
            }
            else {
                return null;
            }
        }

        set {
            if (value.HasValue == false) {
                throw new Exception("Score cannot be null.");
            }
            if (this.scoreDictionary.ContainsKey(subject)) {
                this.scoreDictionary[subject] = value.Value;
            }
            else {
                this.scoreDictionary.Add(subject, value.Value);
            }
        }
    }
}
```

+++

## å¸¸é‡

### å®šä¹‰

- å¸¸é‡ï¼ˆconstantï¼‰æ˜¯è¡¨ç¤ºå¸¸é‡å€¼ï¼ˆå³ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶è®¡ç®—çš„å€¼ï¼‰çš„ç±»æˆå‘˜
- å¸¸é‡éš¶å±äºç±»å‹è€Œä¸æ˜¯å¯¹è±¡ï¼Œå³æ²¡æœ‰â€œå®ä¾‹å¸¸é‡â€
  - â€œå®ä¾‹å¸¸é‡â€çš„è§’è‰²ç”±åªè¯»å®ä¾‹å­—æ®µæ¥æ‹…å½“
- æ³¨æ„åŒºåˆ†æˆå‘˜å¸¸é‡ä¸å±€éƒ¨å¸¸é‡

```csharp
// æˆå‘˜å¸¸é‡
int.MaxValue
Math.PI
```

### å£°æ˜

```csharp
static void Main(string[] args)
{
    Console.WriteLine(WASPEC.WebsiteURL);
}
class WASPEC {
    public const string WebsiteURL = "http://wwww.waspec.org";
}
```

### å„ç§â€œåªè¯»â€çš„åº”ç”¨åœºæ™¯

- å¸¸é‡ï¼šä¸ºäº†æé«˜ç¨‹åºå¯è¯»æ€§å’Œæ‰§è¡Œæ•ˆç‡
- åªè¯»å­—æ®µï¼šä¸ºäº†é˜²æ­¢å¯¹è±¡çš„å€¼è¢«æ”¹å˜ï¼Œåªæœ‰ä¸€æ¬¡åˆå§‹åŒ–æœºä¼šï¼Œå°±æ˜¯åœ¨å£°æ˜å®ƒæ—¶åˆå§‹åŒ–ï¼ˆç­‰ä»·äºåœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼‰
- åªè¯»å±æ€§ï¼ˆé™æ€æˆ–éé™æ€ï¼‰ï¼šå‘å¤–æš´éœ²ä¸å…è®¸ä¿®æ”¹çš„æ•°æ®ï¼ŒåŠŸèƒ½ä¸å¸¸é‡æœ‰ä¸€äº›é‡å 
  - å¯¹äºç±»ä½¿ç”¨é™æ€åªè¯»å±æ€§ï¼Œå¯¹äºå¯¹è±¡ä½¿ç”¨å®ä¾‹åªè¯»å±æ€§
  - è¦åˆ†æ¸…æ²¡æœ‰ Setï¼Œä¸ private Set çš„åŒºåˆ«
  - å¸¸é‡æ¯”é™æ€åªè¯»å±æ€§**æ€§èƒ½é«˜**ï¼Œå› ä¸ºç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨å°†ç”¨å¸¸é‡çš„å€¼ä»£æ›¿å¸¸é‡æ ‡è¯†ç¬¦
- é™æ€åªè¯»å­—æ®µï¼šå½“å¸Œæœ›æˆä¸ºå¸¸é‡çš„å€¼å…¶ç±»å‹ä¸èƒ½è¢«å¸¸é‡å£°æ˜æ¥å—æ—¶ï¼ˆç±»/è‡ªå®šä¹‰ç»“æ„ä½“ï¼‰
  - å­—æ®µæ²¡æœ‰ç±»å‹å±€é™ï¼Œä½†å¸¸é‡åªèƒ½æ˜¯ç®€å•ç±»å‹ï¼Œä¸èƒ½æ˜¯ç±»/è‡ªå®šä¹‰ç»“æ„ä½“ç±»å‹

# å‚æ•°

## å€¼å‚æ•°ï¼ˆä¼ å€¼å‚æ•°ï¼‰

å£°æ˜æ—¶ä¸å¸¦ä¿®é¥°ç¬¦çš„å½¢å‚æ˜¯å€¼å½¢å‚ã€‚ä¸€ä¸ªå€¼å½¢å‚å¯¹åº”äºä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåªæ˜¯å®ƒçš„åˆå§‹å€¼æ¥è‡ªè¯¥æ–¹æ³•è°ƒç”¨æ‰€æä¾›çš„ç›¸åº”å®å‚

### ä¼ å€¼å‚æ•° â¡ å€¼å‚æ•°

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542076791705-2fc03de9-e309-4eb8-8fb2-974c371f241d.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success å€¼ç±»å‹çš„ä¼ å€¼å‚æ•°

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = new Student();
        int y = 100;
        stu.AddOne(y); // 101
        Console.WriteLine(y); // 100
    }
}
class Student
{
    public void AddOne(int x)
    {
        x = x + 1;
        Console.WriteLine(x); // 101
    }
}
```

+++

### ä¼ å€¼å‚æ•° â¡ å¼•ç”¨ç±»å‹

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542076806810-9f724fb3-7488-4718-8b0c-d2d7e30f7ea0.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success å¼•ç”¨ç±»å‹çš„ä¼ å€¼å‚æ•°ï¼Œå¹¶ä¸”æ–°åˆ›å»ºå¯¹è±¡

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = new Student() { Name = "Tom" };
        SomeMethod(stu); // daidai
        Console.WriteLine(stu.Name); // Tom
    }
    static void SomeMethod(Student stu)
    {
        stu = new Student() { Name = "daidai" };
        Console.WriteLine(stu.Name);
    }
}
class Student
{
    public string Name { get; set; }
}
```

> :warning: æ³¨ï¼šè¿™ç§çŠ¶å†µå¾ˆå°‘è§ï¼Œä¸€èˆ¬æƒ…å†µéƒ½æ˜¯ä¼ è¿›æ¥å¼•ç”¨å®ƒçš„å€¼ï¼Œè€Œä¸æ˜¯è¿æ¥åˆ°æ–°å¯¹è±¡å»ï¼ˆåŸºæœ¬åªæœ‰é¢è¯•é¢˜ä¼šè€ƒè¿™ä¸ªï¼‰

+++

#### GetHashCode()

`Object.GetHashCode()` æ–¹æ³•ï¼Œç”¨äºè·å–å½“å‰å¯¹è±¡çš„å“ˆå¸Œä»£ç ï¼Œæ¯ä¸ªå¯¹è±¡çš„ Hash Code éƒ½ä¸ä¸€æ ·

+++success é€šè¿‡ Hash Code æ¥åŒºåˆ†ä¸¤ä¸ª Name ç›¸åŒçš„ stu å¯¹è±¡

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = new Student() { Name = "Tom" };
        SomeMethod(stu); // 46104728 - Tom
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}"); // 12289376 - Tom

    }
    static void SomeMethod(Student stu)
    {
        stu = new Student() { Name = "Tom" };
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}");
    }
}
class Student
{
    public string Name { get; set; }
}
```

+++

### ä¼ å€¼å‚æ•° â¡ å¼•ç”¨ç±»å‹ï¼Œåªæ“ä½œå¯¹è±¡ï¼Œä¸åˆ›å»ºæ–°å¯¹è±¡

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542076859218-6929c5ba-4b54-43e2-b078-857dd0ef6cf9.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = new Student() { Name = "daidai" };
        UpdateObject(stu);
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}"); // 46104728 - Tom
    }
    static void UpdateObject(Student stu)
    {
        stu.Name = "Tom";
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}"); // 46104728 - Tom
    }
}
class Student
{
    public string Name { get; set; }
}
```

+++

## å¼•ç”¨å‚æ•° ref

ç”¨ `ref` ä¿®é¥°ç¬¦å£°æ˜çš„å½¢å‚ã€‚ä¸å€¼å½¢å‚ä¸åŒï¼Œå¼•ç”¨å½¢å‚å¹¶ä¸åˆ›å»ºæ–°çš„å­˜å‚¨ä½ç½®ã€‚ç›¸åï¼Œå¼•ç”¨å½¢å‚è¡¨ç¤ºçš„å­˜å‚¨ä½ç½®æ°æ˜¯åœ¨æ–¹æ³•è°ƒç”¨ä¸­ä½œä¸ºå®å‚ç»™å‡ºçš„é‚£ä¸ªå˜é‡æ‰€è¡¨ç¤ºçš„å­˜å‚¨ä½ç½®

å˜é‡åœ¨å¯ä»¥ä½œä¸ºå¼•ç”¨å½¢å‚ä¼ é€’ä¹‹å‰ï¼Œå¿…é¡»å…ˆæ˜ç¡®èµ‹å€¼

### å¼•ç”¨å‚æ•° â¡ å€¼ç±»å‹

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542076892305-807fa34a-aa47-4f24-826f-b5f58e33a839.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹

```csharp
static void Main(string[] args)
{
    int y = 1;
    IWantSideEffect(ref y);
    Console.WriteLine(y); // 101
}

static void IWantSideEffect(ref int x)
{
    x += 100;
}
```

+++

### å¼•ç”¨å‚æ•° â¡ å¼•ç”¨ç±»å‹ï¼Œåˆ›å»ºæ–°å¯¹è±¡

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542076943323-ae58d7e8-30c8-42c9-9c8b-3bbe6b343453.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student outterStu = new Student() { Name = "daidai" };
        Console.WriteLine($"{outterStu.GetHashCode()} - {outterStu.Name}"); // 46104728 - daidai

        IWantSideEffect(ref outterStu); // 12289376 - Tom
        Console.WriteLine($"{outterStu.GetHashCode()} - {outterStu.Name}"); // 12289376 - Tom
    }
    static void IWantSideEffect(ref Student stu)
    {
        stu = new Student() { Name = "Tom" };
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}");
    }
}
class Student
{
    public string Name { get; set; }
}
```

+++

### å¼•ç”¨å‚æ•° â¡ å¼•ç”¨ç±»å‹ï¼Œä¸åˆ›å»ºæ–°å¯¹è±¡åªæ”¹å˜å¯¹è±¡å€¼

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542077037325-2989cd12-0250-4571-91a4-349253f57d54.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹ï¼šå¯¹è±¡çš„ HashCode æ²¡æœ‰æ”¹å˜è¿‡

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student outterStu = new Student() { Name = "daidai" };
        Console.WriteLine($"{outterStu.GetHashCode()} - {outterStu.Name}"); // 46104728 - daidai
        SomeSideEffect(ref outterStu); // 46104728 - Tom
        Console.WriteLine($"{outterStu.GetHashCode()} - {outterStu.Name}"); // 46104728 - Tom
    }
    static void SomeSideEffect(ref Student stu)
    {
        stu.Name = "Tom";
        Console.WriteLine($"{stu.GetHashCode()} - {stu.Name}");
    }
}
class Student
{
    public string Name { get; set; }
}
```

> :warning: æ³¨ï¼šä¸Šé¢ç¤ºä¾‹ä¸­ä½¿ç”¨ä¼ å€¼å‚æ•°ï¼ˆä¸ç”¨ refï¼‰ç»“æœä¹Ÿå°†ä¸€æ ·ï¼Œä½†å†…éƒ¨æœºç†ä¸åŒ
>
> - ä¼ å€¼å‚æ•°åˆ›å»ºäº†å‰¯æœ¬ï¼Œæ–¹æ³•é‡Œé¢çš„ stu å’Œ outterStu ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æŒ‡å‘çš„å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œä½†æ˜¯å­˜å‚¨çš„åœ°å€æ˜¯ç›¸åŒçš„ï¼Œéƒ½å­˜å‚¨çš„æ˜¯ Student å®ä¾‹åœ¨å †å†…å­˜ä¸­çš„åœ°å€
> - å¼•ç”¨å‚æ•° stu å’Œ outterStu æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œè¿™ä¸ªå†…å­˜åœ°å€é‡Œé¢å­˜å‚¨çš„å°±æ˜¯ Student å®ä¾‹åœ¨å †å†…å­˜ä¸­çš„åœ°å€

+++

## è¾“å‡ºå‚æ•°

ç”¨ `out` ä¿®é¥°ç¬¦å£°æ˜çš„å½¢å‚ã€‚ç±»ä¼¼äºå¼•ç”¨å½¢å‚ï¼Œè¾“å‡ºå½¢å‚ä¸åˆ›å»ºæ–°çš„å­˜å‚¨ä½ç½®

å˜é‡åœ¨å¯ä»¥ä½œä¸ºè¾“å‡ºå½¢å‚ä¼ é€’ä¹‹å‰ä¸ä¸€å®šéœ€è¦æ˜ç¡®èµ‹å€¼

åœ¨æ–¹æ³•è¿”å›ä¹‹å‰ï¼Œè¯¥æ–¹æ³•çš„æ¯ä¸ªè¾“å‡ºå½¢å‚éƒ½å¿…é¡»æ˜ç¡®èµ‹å€¼

### è¾“å‡ºå‚æ•° â¡ å€¼ç±»å‹

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542077102909-63c33834-1dd5-466b-ace8-1ca81aef6ad5.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹ï¼šc# ä¸­è‡ªå¸¦è¾“å‡ºå‚æ•°çš„æ–¹æ³•

```csharp
static void Main(string[] args)
{
    Console.WriteLine("Please input first number:");
    string arg1 = Console.ReadLine();
    double x = 0;
    if (double.TryParse(arg1, out x) == false)
    {
        Console.WriteLine("Input error!");
        return;
    }

    Console.WriteLine("Please input second number:");
    string arg2 = Console.ReadLine();
    double y = 0;
    if (double.TryParse(arg2, out y) == false)
    {
        Console.WriteLine("Input error!");
        return;
    }

    double z = x + y;
    Console.WriteLine(z);
}
```

+++

+++success ç¤ºä¾‹ï¼šè‡ªå·±å®ç°äº†å¸¦æœ‰è¾“å‡ºå‚æ•°çš„ TryParse

```csharp
class Program
{
    static void Main(string[] args)
    {
        double x = 0;
        if (DoubleParser.TryParse("789", out x))
        {
            Console.WriteLine(x + 1); // 790
        }
        else
        {
            Console.WriteLine(x);
        }
    }
}

class DoubleParser
{
    public static bool TryParse(string input, out double result)
    {
        try
        {
            result = double.Parse(input);
            return true;
        }
        catch
        {
            result = 0;
            return false;
        }
    }
}
```

+++

### è¾“å‡ºå‚æ•° â¡ å¼•ç”¨ç±»å‹

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542077147449-c27d2e01-1684-48c1-977d-ab3de2a5c5b0.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student stu = null;
        if (StudentFactory.Create("Tim", 34, out stu))
        {
            Console.WriteLine($"Student {stu.Name}, age is {stu.Age}"); // Student Tim, age is 34
        }
    }
}

class Student
{
    public int Age { get; set; }
    public string Name { get; set; }
}

class StudentFactory
{
    public static bool Create(string stuName,int stuAge, out Student result)
    {
        result = null;
        if (string.IsNullOrEmpty(stuName))
        {
            return false;
        }

        if (stuAge < 20 || stuAge > 80)
        {
            return false;
        }

        result = new Student() { Name = stuName, Age = stuAge };
        return true;
    }
}
```

+++

## æ•°ç»„å‚æ•°

- å¿…éœ€æ˜¯å½¢å‚åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªï¼Œç”± `params` ä¿®é¥°
- ä¸¾åˆ—ï¼šString.Format æ–¹æ³•å’Œ String.Split æ–¹æ³•

+++success ç¤ºä¾‹

```csharp
// ä½¿ç”¨ params å…³é”®å­—å‰
class Program
{
    static void Main(string[] args)
    {
        int[] myIntArray = new int[] { 1, 2, 3 };
        int result = CalculateSum(myIntArray);
        Console.WriteLine(result);
    }
    static int CalculateSum(int[] intArray)
    {
        int sum = 0;
        foreach (var item in intArray)
        {
            sum += item;
        }
        return sum;
    }
}


// ä½¿ç”¨ params åï¼Œä¸å†éœ€è¦å•ç‹¬å£°æ˜æ•°ç»„
class Program
{
    static void Main(string[] args)
    {
        int result = CalculateSum(1, 2, 3);
        Console.WriteLine(result);
    }

    static int CalculateSum(params int[] intArray)
    {
        int sum = 0;
        foreach (var item in intArray)
        {
            sum += item;
        }

        return sum;
    }
}
```

+++

## å…·åå‚æ•°

å‚æ•°çš„ä½ç½®ä¸å†å—çº¦æŸ

ä¼˜ç‚¹ï¼š

- æé«˜ä»£ç å¯è¯»æ€§

- å‚æ•°çš„ä½ç½®ä¸å†å—å‚æ•°åˆ—è¡¨çº¦æŸ

```csharp
class Program
{
    static void Main(string[] args)
    {
        PrintInfo("Tom", 24); // ä¸å…·å
        PrintInfo(age: 24, name: "Wonder"); // å…·å
    }
    static void PrintInfo(string name, int age)
    {
        Console.WriteLine("Hello {0}, you are {1}.", name, age);
    }
}
```

## å¯é€‰å‚æ•°

å‚æ•°å› ä¸ºå…·æœ‰é»˜è®¤å€¼è€Œå˜å¾—â€œå¯é€‰â€

ä¸æ¨èä½¿ç”¨å¯é€‰å‚æ•°

+++success ç¤ºä¾‹

```csharp
class Program
{
    static void Main(string[] args)
    {
        PrintInfo(); // Hello Tom, you are 24.
    }
    static void PrintInfo(string name = "Tom", int age = 24)
    {
        Console.WriteLine("Hello {0}, you are {1}.", name, age);
    }
}
```

+++

## æ‰©å±•æ–¹æ³•ï¼ˆthis å‚æ•°ï¼‰

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542077341452-a488434a-9211-4572-906b-254c3c5aae15.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_827%2Climit_0)

+++success ç¤ºä¾‹

```csharp
// æ— æ‰©å±•æ–¹æ³•
class Program
{
    static void Main(string[] args)
    {
        double x = 3.14159;
        // doubleç±»å‹æœ¬èº«æ²¡æœ‰Roundæ–¹æ³•ï¼Œåªèƒ½ä½¿ç”¨Math.Round
        double y = Math.Round(x, 4);
        Console.WriteLine(y);
    }
}


// æœ‰æ‰©å±•æ–¹æ³•
class Program
{
    static void Main(string[] args)
    {
        double x = 3.14159;
        double y = x.Round(4);
        Console.WriteLine(y);
    }
}
static class DoubleExtension
{
    public static double Round(this double input, int digits)
    {
        return Math.Round(input, digits);
    }
}
```

![img](https://cdn.nlark.com/yuque/0/2018/png/101969/1542077380770-9d72fdd5-78d3-47b1-8a59-9f3e8bdd2fc9.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_573%2Climit_0)

+++

å½“æˆ‘ä»¬æ— æ³•ä¿®æ”¹ç±»å‹æºç æ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•æ–¹æ³•ä¸ºç›®æ ‡æ•°æ®ç±»å‹è¿½åŠ æ–¹æ³•

LINQ ä¹Ÿæ˜¯æ‰©å±•æ–¹æ³•çš„ä¸€å¤§ä½“ç°

### LINQ å®ä¾‹

+++success ç¤ºä¾‹

```csharp
using System.Linq; // å¼•å…¥å‘½åç©ºé—´

class Program
{
    static void Main(string[] args)
    {
        List<int> myList = new List<int>(){ 11, 12, 9, 14, 15 };
        // bool result = AllGreaterThanTen(myList);
        
        bool result = myList.All(i => i > 10); // è¿™é‡Œçš„ All å°±æ˜¯ä¸€ä¸ªæ‰©å±•æ–¹æ³•
        Console.WriteLine(result);
    }
    static bool AllGreaterThanTen(List<int> intList)
    {
        foreach (var item in intList)
        {
            if (item <= 10)
            {
                return false;
            }
        }

        return true;
    }
}
```

+++

## æ€»ç»“

å„ç§å‚æ•°çš„ä½¿ç”¨åœºæ™¯

- ä¼ å€¼å‚æ•°ï¼šå‚æ•°çš„é»˜è®¤ä¼ é€’æ–¹æ³•
- è¾“å‡ºå‚æ•°ï¼šç”¨äºé™¤è¿”å›å€¼å¤–è¿˜éœ€è¦è¾“å‡ºçš„åœºæ™¯
- å¼•ç”¨å‚æ•°ï¼šç”¨äºéœ€è¦ä¿®æ”¹å®é™…å‚æ•°å€¼çš„åœºæ™¯
- æ•°ç»„å‚æ•°ï¼šç”¨äºç®€åŒ–æ–¹æ³•çš„è°ƒç”¨
- å…·åå‚æ•°ï¼šæé«˜å¯è¯»æ€§
- å¯é€‰å‚æ•°ï¼šå‚æ•°æ‹¥æœ‰é»˜è®¤å€¼
- æ‰©å±•æ–¹æ³•ï¼ˆthis å‚æ•°ï¼‰ï¼šä¸ºç›®æ ‡æ•°æ®ç±»å‹â€œè¿½åŠ â€æ–¹æ³•
